{"ast":null,"code":"import axios from 'axios';\nimport Cookie from 'universal-cookie';\nimport { serverUrl } from '../url';\nconst cookie = new Cookie();\nexport async function getBankServiceFunction(param) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    axios.get(serverUrl + 'admin/services', config).then(res => {\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function addProductFunction(param) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    axios.post(serverUrl + 'admin/products', param, config).then(res => {\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function listProductFunction(param) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    let filter = '';\n\n    for (const key in param) {\n      filter += `&${key}=${param[key]}`;\n    }\n\n    axios.get(serverUrl + `admin/products?orderby=updated_time&sort=asc${filter}`, config).then(res => {\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function detailProductFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    axios.get(serverUrl + `admin/products/${param.id}`, config).then(res => {\n      param.dataProduct = res.data;\n\n      if (next) {\n        resolve(next(param));\n      }\n\n      resolve(res.data);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function detailServiceProductFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    axios.get(serverUrl + `admin/services/${param.dataProduct.service_id}`, config).then(res => {\n      const data = res.data && res.data.data ? res.data.data : res.data;\n      param.serviceProduct = data;\n\n      if (next) {\n        resolve(next(param));\n      }\n\n      resolve(param);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function editProductFunction(param) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    axios.patch(serverUrl + `admin/products/${param.id}`, param.newData, config).then(res => {\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/product/saga.js"],"names":["axios","Cookie","serverUrl","cookie","getBankServiceFunction","param","Promise","resolve","config","headers","get","then","res","catch","err","error","response","data","message","toString","toUpperCase","addProductFunction","post","listProductFunction","filter","key","detailProductFunction","next","id","dataProduct","detailServiceProductFunction","service_id","serviceProduct","editProductFunction","patch","newData"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport Cookie from 'universal-cookie'\r\nimport {serverUrl} from '../url'\r\nconst cookie = new Cookie()\r\n\r\nexport async function getBankServiceFunction(param){\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n        };\r\n        axios.get(serverUrl+'admin/services',config)\r\n        .then((res)=>{\r\n            resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function addProductFunction(param){\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n        };\r\n        axios.post(serverUrl+'admin/products',param,config)\r\n        .then((res)=>{\r\n            resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function listProductFunction (param){\r\n    return new Promise (async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n        };\r\n        let filter = '';\r\n\r\n        for(const key in param) {\r\n            filter += `&${key}=${param[key]}`\r\n        }\r\n\r\n        axios.get(serverUrl+`admin/products?orderby=updated_time&sort=asc${filter}`,config)\r\n        .then((res)=>{\r\n            resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\n\r\nexport async function detailProductFunction(param,next) {\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n        };\r\n        axios.get(serverUrl+`admin/products/${param.id}`,config)\r\n        .then((res)=>{\r\n            param.dataProduct = res.data\r\n            if(next){\r\n                resolve(next(param))\r\n            }\r\n            resolve(res.data)\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\n\r\nexport async function detailServiceProductFunction(param,next) {\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n        };\r\n        axios.get(serverUrl+`admin/services/${param.dataProduct.service_id}`,config)\r\n        .then((res)=>{\r\n            const data = res.data && res.data.data ? res.data.data : res.data;\r\n            param.serviceProduct = data;\r\n            if(next){\r\n                resolve(next(param))\r\n            }\r\n            resolve(param)\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function editProductFunction (param) {\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n        };\r\n        axios.patch(serverUrl+`admin/products/${param.id}`,param.newData,config)\r\n        .then((res)=>{\r\n          resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n    \r\n}\r\n"]},"metadata":{},"sourceType":"module"}