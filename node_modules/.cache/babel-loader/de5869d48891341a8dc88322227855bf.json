{"ast":null,"code":"import axios from 'axios';\nimport { serverUrl } from '../url';\nimport Cookies from 'universal-cookie';\nconst cookie = new Cookies();\nexport async function getAllUserFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    let filter = '';\n\n    for (const key in param) {\n      filter += `&${key}=${param[key]}`;\n    }\n\n    const urlNew = serverUrl + `admin/users?orderby=updated_time&sort=desc${filter}`;\n    axios.get(urlNew, config).then(res => {\n      const listUser = res.data && res.data.data;\n      param.dataUser = listUser;\n      param.totalData = res.data.total_data;\n\n      if (next) {\n        resolve(next(param));\n      } else {\n        resolve(param);\n      }\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\n;\nexport async function getUserFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    const urlNew = serverUrl + `admin/users/${param.userId}`;\n    axios.get(urlNew, config).then(res => {\n      const listUser = res.data && res.data.data ? res.data.data : res.data;\n      param.dataUser = listUser;\n\n      if (next) {\n        resolve(next(param));\n      } else {\n        resolve(param);\n      }\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function patchUserAddFunction(param) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    axios.patch(serverUrl + `admin/users/${param.id}`, param.dataUser, config).then(res => {\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}` || 'Gagal menambah User';\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function postUserAddFunction(param) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    axios.post(serverUrl + 'admin/users', param.dataUser, config).then(res => {\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}` || 'Gagal menambah User';\n      param.error = error;\n      resolve(param);\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/user/saga.js"],"names":["axios","serverUrl","Cookies","cookie","getAllUserFunction","param","next","Promise","resolve","config","headers","get","filter","key","urlNew","then","res","listUser","data","dataUser","totalData","total_data","catch","err","error","response","message","toString","toUpperCase","getUserFunction","userId","patchUserAddFunction","patch","id","postUserAddFunction","post"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { serverUrl } from '../url';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookie = new Cookies()\r\n\r\nexport async function getAllUserFunction(param, next){\r\n    return new Promise(async (resolve) => {\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n        };\r\n\r\n        let filter = '';\r\n\r\n        for(const key in param) {\r\n            filter += `&${key}=${param[key]}`\r\n        }\r\n\r\n        const urlNew = serverUrl+`admin/users?orderby=updated_time&sort=desc${filter}`\r\n    \r\n        axios.get(urlNew,config).then((res)=>{\r\n            const listUser = res.data && res.data.data\r\n            param.dataUser = listUser;\r\n            param.totalData = res.data.total_data\r\n\r\n            if(next) {\r\n                resolve(next(param));\r\n            } else {\r\n                resolve(param);\r\n            }\r\n        }).catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    });\r\n};\r\n\r\nexport async function getUserFunction(param, next) {\r\n    return new Promise(async (resolve) => {\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n        };\r\n\r\n        const urlNew = serverUrl+`admin/users/${param.userId}`\r\n    \r\n        axios.get(urlNew,config).then((res)=>{\r\n            const listUser = res.data && res.data.data ? res.data.data : res.data;\r\n            param.dataUser = listUser;\r\n\r\n            if(next) {\r\n                resolve(next(param));\r\n            } else {\r\n                resolve(param);\r\n            }\r\n        }).catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    });\r\n}\r\n\r\nexport async function patchUserAddFunction(param) {\r\n    return new Promise(async (resolve) => {     \r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n          };\r\n  \r\n        axios.patch(serverUrl+`admin/users/${param.id}`,param.dataUser,config).then((res)=>{\r\n            resolve(res)\r\n        }).catch((err)=>{\r\n            const error = (err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`) || 'Gagal menambah User'\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    });\r\n    \r\n}\r\n\r\nexport async function postUserAddFunction(param) {\r\n    return new Promise(async (resolve) => {     \r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n          };\r\n  \r\n        axios.post(serverUrl+'admin/users',param.dataUser,config).then((res)=>{\r\n            resolve(res)\r\n        }).catch((err)=>{\r\n            const error = (err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`) || 'Gagal menambah User'\r\n            param.error = error\r\n            resolve(param);\r\n        })\r\n    });\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}