{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_core\\\\src\\\\components\\\\bank\\\\bankDetail.js\";\nimport React from 'react';\nimport Cookies from 'universal-cookie';\nimport { Redirect } from 'react-router-dom';\nimport { serverUrl } from '../url';\nimport Moment from 'react-moment';\nimport Loader from 'react-loader-spinner';\nimport axios from 'axios';\nimport { getBankDetailFunction } from './saga';\nimport { DetailTipeBankFunction } from './../tipebank/saga';\nconst cookie = new Cookies();\nvar config = {\n  headers: {\n    'Authorization': \"Bearer \" + cookie.get('token')\n  }\n};\n\nclass BankDetail extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rows: [],\n      layanan: [],\n      produk: [],\n      tipe: 0,\n      namaTipeBank: '',\n      serviceName: null,\n      productName: null,\n      diKlik: false,\n      loading: true\n    };\n\n    this.getBankDetail = async function () {\n      var id = this.props.match.params.id;\n      const param = {\n        id\n      };\n      const data = await getBankDetailFunction(param);\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            rows: data,\n            layanan: data.services,\n            tipe: data.type,\n            produk: data.products\n          });\n\n          if (this.state.rows) {\n            this.getTypeBank();\n            this.getBankServiceId();\n            this.getProductId();\n          }\n        } else {\n          this.setState({\n            errorMessage: data.error\n          });\n        }\n      }\n    };\n\n    this.getBankServiceId = () => {\n      var id = this.props.match.params.id;\n      config = {\n        headers: {\n          'Authorization': \"Bearer \" + cookie.get('token')\n        }\n      };\n      axios.get(serverUrl + `admin/bank_services?bank_id=${id}`, config).then(res => {\n        var serviceId = res.data.data.map(val => {\n          return val.service_id;\n        });\n        axios.get(serverUrl + `/admin/services?id=${serviceId.toString()}`, config).then(res => {\n          var serviceName = res.data.data.map(val => {\n            return val.name;\n          });\n          this.setState({\n            serviceName: serviceName.toString()\n          });\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.getProductId = () => {\n      var id = this.props.match.params.id;\n      config = {\n        headers: {\n          'Authorization': \"Bearer \" + cookie.get('token')\n        }\n      };\n      axios.get(serverUrl + `admin/bank_products?bank_id=${id}`, config).then(res => {\n        console.log(res.data);\n        var productID = res.data.data.map(val => {\n          return val.product_id;\n        });\n        axios.get(serverUrl + `/admin/products?id=${productID.toString()}`, config).then(res => {\n          var productName = res.data.data.map(val => {\n            return val.name;\n          });\n          this.setState({\n            productName: productName.toString(),\n            loading: false\n          });\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.getTypeBank = async function () {\n      const param = {\n        id: this.state.tipe\n      };\n      const data = await DetailTipeBankFunction(param);\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            namaTipeBank: data.name\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error\n          });\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getBankDetail();\n  }\n\n  render() {\n    if (this.state.diKlik) {\n      return React.createElement(Redirect, {\n        to: \"/listbank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      });\n    }\n\n    if (this.state.loading) {\n      return React.createElement(Loader, {\n        type: \"ThreeDots\",\n        color: \"#00BFFF\",\n        height: \"30\",\n        width: \"30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      });\n    }\n\n    if (cookie.get('token')) {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Bank - Detail\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"ID Bank\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \": \", this.state.rows.id)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Nama Bank\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \": \", this.state.rows.name)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Tipe Bank\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \": \", this.state.namaTipeBank)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Alamat Bank\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \": \", this.state.rows.address)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Provinsi\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \": \", this.state.rows.province)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Kota\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \": \", this.state.rows.city)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Admin Fee setup\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \": \", this.state.rows.adminfee_setup === \"potong_plafon\" ? \"Potong dari plafond\" : \"Bebankan ke cicilan\")), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Convinience Fee setup\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \": \", this.state.rows.convfee_setup === \"potong_plafon\" ? \"Potong dari plafond\" : \"Bebankan ke cicilan\")), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Jenis Layanan\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \": \", this.state.serviceName === null ? \"-\" : this.state.serviceName.toString())), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Jenis Product\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \": \", this.state.productName === null ? \"-\" : this.state.productName.toString())), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"Nama PIC\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \": \", this.state.rows.pic)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"No Telp\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \": \", this.state.rows.phone)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Tanggal Bergabung\"), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \":  \", React.createElement(Moment, {\n        date: this.state.rows.join_date,\n        format: \" DD  MMMM  YYYY\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"button\",\n        className: \"btn btn btn-secondary\",\n        value: \"Kembali\",\n        onClick: () => this.setState({\n          diKlik: true\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }))));\n    }\n\n    if (!cookie.get('token')) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default BankDetail;","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/bank/bankDetail.js"],"names":["React","Cookies","Redirect","serverUrl","Moment","Loader","axios","getBankDetailFunction","DetailTipeBankFunction","cookie","config","headers","get","BankDetail","Component","state","rows","layanan","produk","tipe","namaTipeBank","serviceName","productName","diKlik","loading","getBankDetail","id","props","match","params","param","data","error","setState","services","type","products","getTypeBank","getBankServiceId","getProductId","errorMessage","then","res","serviceId","map","val","service_id","toString","name","catch","err","console","log","productID","product_id","componentDidMount","render","address","province","city","adminfee_setup","convfee_setup","pic","phone","join_date"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Cookies from 'universal-cookie';\r\nimport { Redirect } from 'react-router-dom'\r\nimport {serverUrl} from '../url'\r\nimport Moment from 'react-moment'\r\nimport Loader from 'react-loader-spinner'\r\nimport axios from 'axios'\r\nimport { getBankDetailFunction } from './saga';\r\nimport {DetailTipeBankFunction} from './../tipebank/saga'\r\n\r\nconst cookie = new Cookies()\r\nvar config = {\r\n    headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n  };\r\nclass BankDetail extends React.Component{\r\n    state = {rows:[],layanan:[],produk:[],tipe:0,namaTipeBank:'',serviceName:null,productName:null,diKlik:false,loading:true}\r\n    componentDidMount(){\r\n        this.getBankDetail()\r\n    }\r\n\r\n    getBankDetail = async function () {\r\n        var id = this.props.match.params.id\r\n        const param ={id}\r\n        const data = await getBankDetailFunction(param)\r\n\r\n        if(data){\r\n            if(!data.error){\r\n                this.setState({rows:data,layanan:data.services,tipe:data.type,produk:data.products})\r\n                if (this.state.rows){\r\n                    this.getTypeBank()\r\n                    this.getBankServiceId()\r\n                    this.getProductId()\r\n                }\r\n            }else{\r\n                this.setState({errorMessage:data.error})\r\n            }\r\n        }\r\n    }\r\n\r\n    getBankServiceId= () =>{\r\n             var id = this.props.match.params.id\r\n             config = {\r\n                headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n              };\r\n          \r\n                axios.get(serverUrl+`admin/bank_services?bank_id=${id}`,config)\r\n                .then((res)=>{\r\n                var serviceId = res.data.data.map((val)=>{\r\n                    return val.service_id\r\n                })\r\n                axios.get(serverUrl+`/admin/services?id=${serviceId.toString()}`,config)\r\n                .then((res)=>{\r\n                    var serviceName = res.data.data.map((val)=>{\r\n                        return val.name\r\n                    })\r\n                    this.setState({serviceName:serviceName.toString()})\r\n                })\r\n            })\r\n            .catch((err)=>console.log(err))\r\n    }\r\n\r\n    getProductId= () =>{\r\n        var id = this.props.match.params.id\r\n        config = {\r\n           headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n         };\r\n     \r\n       axios.get(serverUrl+`admin/bank_products?bank_id=${id}`,config)\r\n       .then((res)=>{\r\n           console.log(res.data)\r\n           var productID = res.data.data.map((val)=>{\r\n               return val.product_id\r\n           })\r\n           axios.get(serverUrl+`/admin/products?id=${productID.toString()}`,config)\r\n           .then((res)=>{\r\n               var productName = res.data.data.map((val)=>{\r\n                   return val.name\r\n               })\r\n               this.setState({productName:productName.toString(),loading:false})\r\n           })\r\n       })\r\n       .catch((err)=>console.log(err))\r\n    }\r\n\r\n    getTypeBank = async function () {\r\n        const param = {id:this.state.tipe}\r\n        const data = await DetailTipeBankFunction(param)\r\n\r\n        if(data){\r\n            if(!data.error){\r\n                this.setState({namaTipeBank:data.name})\r\n            }else{\r\n                this.setState({errorMessage:data.error})\r\n            }\r\n        }\r\n    } \r\n\r\n    render(){\r\n        if(this.state.diKlik){\r\n            return <Redirect to=\"/listbank\"/>\r\n        }\r\n        if(this.state.loading){\r\n            return(\r\n                <Loader \r\n                type=\"ThreeDots\"\r\n                color=\"#00BFFF\"\r\n                height=\"30\"\t\r\n                width=\"30\"\r\n                />  \r\n            )\r\n        }\r\n        if(cookie.get('token')){\r\n            return(\r\n                <div className=\"container\">\r\n                   <h2>Bank - Detail</h2>\r\n                   <hr/>\r\n                   <form>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">ID Bank</label>\r\n                            <div className=\"col-sm-8\">\r\n                            : {this.state.rows.id}\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">Nama Bank</label>\r\n                            <div className=\"col-sm-8\">\r\n                            : {this.state.rows.name}\r\n                            \r\n\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">Tipe Bank</label>\r\n                            <div className=\"col-sm-8\">\r\n                            : {this.state.namaTipeBank}\r\n                        \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">Alamat Bank</label>\r\n                            <div className=\"col-sm-8\">\r\n                            : {this.state.rows.address}\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">Provinsi</label>\r\n                            <div className=\"col-sm-8\">\r\n                            : {this.state.rows.province}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">Kota</label>\r\n                            <div className=\"col-sm-8\">\r\n                            : {this.state.rows.city}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">Admin Fee setup</label>\r\n                            <div className=\"col-sm-8\">\r\n                            : {this.state.rows.adminfee_setup === \"potong_plafon\"? \"Potong dari plafond\" : \"Bebankan ke cicilan\"}\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">Convinience Fee setup</label>\r\n                            <div className=\"col-sm-8\">\r\n                            : {this.state.rows.convfee_setup === \"potong_plafon\"? \"Potong dari plafond\" : \"Bebankan ke cicilan\"}\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">Jenis Layanan</label>\r\n                            <div className=\"col-sm-8\">\r\n                            : {this.state.serviceName === null ? \"-\" :this.state.serviceName.toString()}\r\n\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">Jenis Product</label>\r\n                            <div className=\"col-sm-8\">\r\n                            : {this.state.productName === null ? \"-\" :this.state.productName.toString()}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">Nama PIC</label>\r\n                            <div className=\"col-sm-8\">\r\n                            : {this.state.rows.pic}\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">No Telp</label>\r\n                            <div className=\"col-sm-8\">\r\n                            : {this.state.rows.phone}\r\n\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">Tanggal Bergabung</label>\r\n                            <div className=\"col-sm-8\">\r\n                            :  <Moment date={this.state.rows.join_date} format=\" DD  MMMM  YYYY\" />                         \r\n\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-4 col-form-label\">\r\n                                <input type=\"button\" className=\"btn btn btn-secondary\" value=\"Kembali\" onClick={()=> this.setState({diKlik:true})}/>\r\n                            </label>\r\n                            <div className=\"col-sm-8\">\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                   </form>\r\n    \r\n                </div>\r\n            )\r\n        }\r\n        if(!cookie.get('token')){\r\n            return (\r\n                <Redirect to='/login' />\r\n            )    \r\n        }\r\n       \r\n    }\r\n}\r\n\r\nexport default BankDetail;"]},"metadata":{},"sourceType":"module"}