{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_core\\\\src\\\\components\\\\role\\\\roleAdd.jsx\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport { AddRoleFunction } from './saga';\nimport { getToken } from '../index/token';\n\nclass RoleAdd extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this._isMounted = false;\n    this.state = {\n      diKlik: false,\n      errorMessage: '',\n      check: false,\n      submit: false\n    };\n\n    this.btnCancel = () => {\n      this.setState({\n        diKlik: true\n      });\n    };\n\n    this.btnSave = () => {\n      var name = this.refs.namaRole.value;\n      var system = this.refs.sistem.value;\n      var description = this.refs.deskripsi.value;\n      var status = this.state.check ? \"active\" : \"inactive\";\n      var permissions = [];\n\n      if (name.trim() === \"\" || name === \"\") {\n        this.setState({\n          errorMessage: \"Nama Role Kosong - Harap Cek Ulang\"\n        });\n      } else if (system === \"0\") {\n        this.setState({\n          errorMessage: \"Sistem Role Kosong - Harap Cek Ulang\"\n        });\n      } else {\n        this.setState({\n          submit: true\n        });\n        var newData = {\n          name,\n          system,\n          description,\n          status,\n          permissions\n        };\n        this.addRole(newData);\n      }\n    };\n\n    this.addRole = async function (params) {\n      const data = await AddRoleFunction(params);\n\n      if (data) {\n        if (!data.error) {\n          swal(\"Success\", \"Role berhasil di tambah\", \"success\");\n          this.setState({\n            diKlik: true,\n            submit: false\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error,\n            submit: false\n          });\n        }\n      }\n    };\n\n    this.renderBtnSumbit = () => {\n      if (this.state.submit) {\n        return React.createElement(\"input\", {\n          type: \"button\",\n          disabled: true,\n          className: \"btn btn-success\",\n          value: \"Simpan\",\n          onClick: this.btnSave,\n          style: {\n            cursor: \"wait\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"input\", {\n          type: \"button\",\n          className: \"btn btn-success\",\n          value: \"Simpan\",\n          onClick: this.btnSave,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.handleChecked = () => {\n      this.setState({\n        check: !this.state.check\n      });\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  UNSAFE_componentWillReceiveProps(newProps) {\n    this.setState({\n      errorMessage: newProps.error\n    });\n  }\n\n  render() {\n    if (this.state.diKlik) {\n      return React.createElement(Redirect, {\n        to: \"/listrole\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      });\n    }\n\n    if (getToken()) {\n      return React.createElement(\"div\", {\n        className: \"container mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Role - Tambah\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12\",\n        style: {\n          color: \"red\",\n          fontSize: \"15px\",\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, this.state.errorMessage)), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Nama Role\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        required: true,\n        className: \"form-control\",\n        ref: \"namaRole\",\n        placeholder: \"Input Role..\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Sistem\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        ref: \"sistem\",\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"====== Pilih Sistem =====\"), React.createElement(\"option\", {\n        value: \"Mobile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Mobile\"), React.createElement(\"option\", {\n        value: \"Core\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Core\"), React.createElement(\"option\", {\n        value: \"Dashboard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Dashboard\")))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Deskripsi\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        rows: 6,\n        ref: \"deskripsi\",\n        className: \"form-control\",\n        placeholder: \"Description..\",\n        required: true,\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Status\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-check-input messageCheckbox AddStyleButtonCheckbox\",\n        value: \"active\",\n        type: \"checkbox\",\n        onChange: this.handleChecked,\n        defaultChecked: this.state.check,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        style: {\n          position: \"relative\",\n          left: \"17%\",\n          paddingTop: \"3px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, this.state.check ? \"Aktif\" : \"Tidak Aktif\")), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12 ml-3 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, this.renderBtnSumbit(), React.createElement(\"input\", {\n        type: \"button\",\n        value: \"Batal\",\n        className: \"btn ml-2\",\n        onClick: this.btnCancel,\n        style: {\n          backgroundColor: \"grey\",\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }))))));\n    }\n\n    if (!getToken()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default RoleAdd;","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/role/roleAdd.jsx"],"names":["React","Redirect","swal","AddRoleFunction","getToken","RoleAdd","Component","_isMounted","state","diKlik","errorMessage","check","submit","btnCancel","setState","btnSave","name","refs","namaRole","value","system","sistem","description","deskripsi","status","permissions","trim","newData","addRole","params","data","error","renderBtnSumbit","cursor","handleChecked","componentDidMount","componentWillUnmount","UNSAFE_componentWillReceiveProps","newProps","render","color","fontSize","textAlign","position","left","paddingTop","backgroundColor"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport swal from 'sweetalert'\r\nimport { AddRoleFunction } from './saga';\r\nimport { getToken } from '../index/token';\r\n\r\nclass RoleAdd extends React.Component{\r\n    _isMounted = false;\r\n    state = {\r\n        diKlik:false,\r\n        errorMessage:'',\r\n        check:false,\r\n        submit:false\r\n       };\r\n    componentDidMount(){\r\n        this._isMounted = true;\r\n    }\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    btnCancel = ()=>{\r\n        this.setState({diKlik:true})\r\n    }\r\n    UNSAFE_componentWillReceiveProps(newProps){\r\n        this.setState({errorMessage:newProps.error})\r\n    }\r\n    btnSave=()=>{\r\n        var name = this.refs.namaRole.value\r\n        var system = this.refs.sistem.value\r\n        var description = this.refs.deskripsi.value\r\n        var status = this.state.check ? \"active\" :\"inactive\"\r\n        var permissions =[]\r\n        if(name.trim()===\"\" || name ===\"\"){\r\n            this.setState({errorMessage:\"Nama Role Kosong - Harap Cek Ulang\"})\r\n        }else if(system === \"0\" ){\r\n            this.setState({errorMessage:\"Sistem Role Kosong - Harap Cek Ulang\"})            \r\n        }else{\r\n            this.setState({submit:true})\r\n            var newData = {name,system,description,status,permissions}\r\n            this.addRole(newData)\r\n        }\r\n    }\r\n    \r\n    addRole = async function (params) {\r\n        const data  = await AddRoleFunction(params)\r\n        if(data){\r\n            if(!data.error){\r\n                swal(\"Success\",\"Role berhasil di tambah\",\"success\")\r\n                this.setState({diKlik:true,submit:false})\r\n            }else{\r\n                this.setState({errorMessage:data.error,submit:false})\r\n            }\r\n        }\r\n    }\r\n   \r\n    renderBtnSumbit =()=>{\r\n        if( this.state.submit) {\r\n         return <input type=\"button\" disabled className=\"btn btn-success\" value=\"Simpan\" onClick={this.btnSave} style={{cursor:\"wait\"}}/>\r\n        }else{\r\n        return <input type=\"button\" className=\"btn btn-success\" value=\"Simpan\" onClick={this.btnSave}/>\r\n        }\r\n    }\r\n    handleChecked = () =>{\r\n        this.setState({check:!this.state.check})\r\n    }\r\n\r\n    render(){\r\n        if(this.state.diKlik){\r\n            return <Redirect to='/listrole'/>            \r\n        }\r\n        if(getToken()){\r\n            return(\r\n                <div className=\"container mt-4\">\r\n                 <h3>Role - Tambah</h3>\r\n                 \r\n                 <hr/>\r\n                 <div className=\"form-group row\">\r\n                        <div className=\"col-12\" style={{color:\"red\",fontSize:\"15px\",textAlign:'center'}}>\r\n                                {this.state.errorMessage}\r\n                        </div>\r\n                            \r\n                 </div>\r\n                 <form>\r\n                            <div className=\"form-group row\">\r\n                            \r\n                            <label className=\"col-sm-2 col-form-label\">Nama Role</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <input type=\"text\" required className=\"form-control\" ref=\"namaRole\" placeholder=\"Input Role..\" />\r\n                            </div>\r\n                            \r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                            \r\n                            <label className=\"col-sm-2 col-form-label\">Sistem</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <select ref=\"sistem\" className=\"form-control\">\r\n                                <option value={0}>====== Pilih Sistem =====</option>\r\n                                <option value=\"Mobile\">Mobile</option>\r\n                                <option value=\"Core\">Core</option>\r\n                                <option value=\"Dashboard\">Dashboard</option>\r\n                            </select>\r\n                            </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group row\">\r\n                            <label className=\"col-sm-2 col-form-label\">Deskripsi</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <textarea  rows= {6} ref=\"deskripsi\" className=\"form-control\"  placeholder=\"Description..\" required autoFocus/>\r\n                            </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group row\">\r\n                            <label className=\"col-sm-2 col-form-label\">Status</label>\r\n                            <div className=\"col-sm-10\">\r\n                            <input className=\"form-check-input messageCheckbox AddStyleButtonCheckbox\" value=\"active\" type=\"checkbox\" onChange={this.handleChecked} defaultChecked={this.state.check}/> \r\n                            <label style={{position:\"relative\",left:\"17%\",paddingTop:\"3px\"}} >{ this.state.check ? \"Aktif\" : \"Tidak Aktif\" }</label>            \r\n                            </div>\r\n\r\n                            <div className=\"form-group row\">\r\n                            <div className=\"col-sm-12 ml-3 mt-3\">\r\n                                                {this.renderBtnSumbit()}\r\n                                                <input type=\"button\" value=\"Batal\" className=\"btn ml-2\" onClick={this.btnCancel} style={{backgroundColor:\"grey\",color:\"white\"}}/>\r\n                             </div></div>\r\n                    </div>\r\n                 </form>\r\n                \r\n                </div>\r\n            )\r\n        }\r\n        if(!getToken()){\r\n            return (\r\n                <Redirect to='/login' />\r\n            )    \r\n        }\r\n       \r\n    }\r\n}\r\n\r\nexport default RoleAdd;"]},"metadata":{},"sourceType":"module"}