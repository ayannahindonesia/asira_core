{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_core\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport { Route, withRouter, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { keepLogin } from './1.actions';\nimport { serverUrl } from './components/url';\nimport { checkPermission } from './components/global/globalFunction';\nimport Testing from './components/testing';\nimport PageNotFound from './components/404';\nimport TambahBank from './components/bank/bankAdd';\nimport ListBank from './components/bank/bankList';\nimport EditBank from './components/bank/bankEdit';\nimport DetailBank from './components/bank/bankDetail';\nimport LayananEdit from './components/layanan/layananEdit';\nimport LayananAdd from './components/layanan/layananAdd';\nimport LayananList from './components/layanan/layananList';\nimport LayananDetail from './components/layanan/layananDetail';\nimport Login from './components/index/login';\nimport Header from './components/index/header';\nimport Home from './components/index/main';\nimport Nasabah from './components/profileNasabah/profileNasabah';\nimport ScrollTop from './components/scrollToTop';\nimport profileNasabahDetail from './components/profileNasabah/profileNasabahDetail';\nimport PermintaanPinjaman from './components/permintaanPinjaman/permintaanPinjaman';\nimport PermintaanPinjamanDetail from './components/permintaanPinjaman/permintaanPinjamanDetail';\nimport ProductAdd from './components/product/productAdd';\nimport ProductList from './components/product/productList';\nimport ProductDetail from './components/product/productDetail';\nimport ProductEdit from './components/product/productEdit';\nimport TypeBankAdd from './components/tipebank/typebankAdd';\nimport TypeBankList from './components/tipebank/typebankList';\nimport TujuanAdd from './components/tujuan/tujuanAdd';\nimport TujuanList from './components/tujuan/tujuanList';\nimport TujuanEdit from './components/tujuan/tujuanEdit';\nimport TujuanDetail from './components/tujuan/tujuanDetail';\nimport TypeBankEdit from './components/tipebank/typebankEdit';\nimport TypeBankDetail from './components/tipebank/typebankDetail';\nimport RoleAdd from './components/role/roleAdd';\nimport RoleList from './components/role/roleList';\nimport RoleDetail from './components/role/roleDetail';\nimport RoleEdit from './components/role/roleEdit';\nimport Report from './components/report/report';\nimport RoleAddPermission from './components/rolePermission/rolePermissionAdd';\nimport RoleListPermission from './components/rolePermission/rolePermissionList';\nimport RoleDetailPermission from './components/rolePermission/rolePermissionDetail';\nimport RoleEditPermission from './components/rolePermission/rolePermissionEdit';\nimport UserAdd from './components/user/userAdd';\nimport UserList from './components/user/userList';\nimport UserDetail from './components/user/userDetail';\nimport UserEdit from './components/user/userEdit';\nimport penyediaAgentAdd from './components/penyediaAgent/penyediaAdd';\nimport penyediaAgentEdit from './components/penyediaAgent/penyediaEdit';\nimport penyediaAgentDetail from './components/penyediaAgent/penyediaDetail';\nimport penyediaAgentList from './components/penyediaAgent/penyediaList';\nimport AgentAdd from './components/agent/agentAdd';\nimport AgentList from './components/agent/agentList';\nimport AgentDetail from './components/agent/agentDetail';\nimport AgentEdit from './components/agent/agentEdit';\nimport axios from 'axios';\nimport { getToken, setTokenAuth, getProfileUser, getTokenAuth } from './components/index/token';\nimport CalonNasabahList from './components/calonNasabah/calonNasabahList';\nimport calonNasabahDetail from './components/calonNasabah/calonNasabahDetail';\nimport CalonNasabahArsipList from './components/calonNasabah/calonNasabahArsipList';\nimport CalonNasabahArsipDetail from './components/calonNasabah/calonNasabahArsipDetail';\nimport ChangePassword from './components/index/changePassword';\nimport ActivityLog from './components/logs/activitylog';\nimport ResponsiveDrawer from './components/subComponent/Drawer';\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this._isMounted = false;\n    this.state = {\n      loading: true\n    };\n\n    this.getAuth = () => {\n      var url = serverUrl + \"clientauth\";\n      axios.get(url, {\n        auth: {\n          username: 'reactkey',\n          password: 'reactsecret'\n        }\n      }).then(res => {\n        setTokenAuth(res.data.token);\n        this.setState({\n          loading: false\n        });\n      }).catch(err => {\n        setTimeout(function () {\n          alert(\"Coba reload halaman/ cek koneksi internet\");\n        }, 5000);\n      });\n    };\n\n    this.checkUbahPasswordLink = (path, token) => {\n      let flag = false;\n\n      if (path && token) {\n        if (path.split('/')[1] && path.split('/')[1] === 'ubahpassword' && token.split('token=')[1] && token.split('token=')[1].length !== 0) {\n          flag = true;\n        }\n      }\n\n      return flag;\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.getAuth();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  componentDidUpdate() {\n    if (!getTokenAuth()) {\n      this.getAuth();\n    }\n  }\n\n  render() {\n    if (this.state.loading) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \" loading ....\");\n    }\n\n    return React.createElement(ResponsiveDrawer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }) // <div>\n    //   <ScrollTop>\n    //     <div className=\"row\">\n    //     {\n    //       getToken() && getProfileUser() && !this.checkUbahPasswordLink(this.props.location && this.props.location.pathname, this.props.location && this.props.location.search) ? \n    //       <div className=\"col-2 col-md-3\">\n    //         <Header />\n    //       </div>\n    //       :\n    //       null\n    //     }\n    //       <div className=\"col-10 col-md-9\">\n    //       <Switch> \n    //             <Route path='/test' component={Testing}></Route>\n    //             <Route path='/' component={Home} exact></Route>\n    //             { checkPermission('core_borrower_get_all') && <Route path='/profileNasabah' component={Nasabah}></Route>}\n    //             { checkPermission('core_borrower_get_details') && <Route path=\"/profileNasabahDetail/:id\" component={profileNasabahDetail}></Route>}\n    //             { checkPermission('core_loan_get_all') && <Route path=\"/permintaanpinjaman\" component={PermintaanPinjaman}></Route>}\n    //             { checkPermission('core_loan_get_details') && <Route path=\"/permintaanpinjamanDetail/:idLoan\" component={PermintaanPinjamanDetail}></Route>}\n    //             { checkPermission('core_bank_new') && <Route path='/tambahbank' component={TambahBank}></Route>}\n    //             { checkPermission('core_bank_list') && <Route path='/listbank' component={ListBank}></Route>}\n    //             { checkPermission('core_bank_patch') && <Route path='/bankedit/:id' component={EditBank}></Route>}\n    //             { checkPermission('core_bank_detail') && <Route path='/bankdetail/:id' component={DetailBank}></Route>}\n    //             { checkPermission('core_product_new') && <Route path='/tambahproduct' component={ProductAdd}></Route>}\n    //             { checkPermission('core_product_list') && <Route path='/listproduct' component={ProductList}></Route>}\n    //             { checkPermission('core_product_patch') && <Route path='/productedit/:id' component={ProductEdit}></Route>}\n    //             { checkPermission('core_product_detail') && <Route path='/productdetail/:id' component={ProductDetail}></Route>}\n    //             { checkPermission('core_service_new') && <Route path='/tambahlayanan' component={LayananAdd}></Route>}\n    //             { checkPermission('core_service_list') && <Route path='/listlayanan' component={LayananList}></Route>}\n    //             { checkPermission('core_service_patch') && <Route path='/layananedit/:id' component={LayananEdit}></Route>}\n    //             { checkPermission('core_service_detail') && <Route path='/layanandetail/:id' component={LayananDetail}></Route>}\n    //             { checkPermission('core_bank_type_new') && <Route path='/tambahtipe' component={TypeBankAdd}></Route>}\n    //             { checkPermission('core_bank_type_list') && <Route path='/listtipe' component={TypeBankList}></Route>}\n    //             { checkPermission('core_bank_type_patch') && <Route path='/banktypeedit/:id' component={TypeBankEdit}></Route>}\n    //             { checkPermission('core_bank_type_detail') && <Route path='/banktypedetail/:id' component={TypeBankDetail}></Route>}\n    //             { checkPermission('core_loan_purpose_new') && <Route path='/tambahtujuan' component={TujuanAdd}></Route>}\n    //             { checkPermission('core_loan_purpose_list') && <Route path='/listtujuan' component={TujuanList}></Route>}\n    //             { checkPermission('core_loan_purpose_patch') && <Route path='/tujuanedit/:id' component={TujuanEdit}></Route>}\n    //             { checkPermission('core_loan_purpose_detail') && <Route path='/tujuandetail/:id' component={TujuanDetail}></Route>}\n    //             { checkPermission('core_role_new') && <Route path='/tambahrole' component={RoleAdd}></Route>}\n    //             { checkPermission('core_role_list') && <Route path='/listrole' component={RoleList}></Route>}\n    //             { checkPermission('core_role_patch') && <Route path='/editrole/:id' component={RoleEdit}></Route>}\n    //             { checkPermission('core_role_details') && <Route path='/detailrole/:id' component={RoleDetail}></Route>}\n    //             { checkPermission('core_permission_new') && <Route path='/tambahRolePermission' component={RoleAddPermission}></Route>}\n    //             { checkPermission('core_permission_list') && <Route path='/listRolePermission' component={RoleListPermission}></Route>}\n    //             { checkPermission('core_permission_patch') && <Route path='/editRolePermission/:id' component={RoleEditPermission}></Route>}\n    //             { checkPermission('core_permission_detail') && <Route path='/detailRolePermission/:id' component={RoleDetailPermission}></Route>}\n    //             { checkPermission('core_user_new') && <Route path='/tambahUser' component={UserAdd}></Route>}\n    //             { checkPermission('core_user_list') && <Route path='/listUser' component={UserList}></Route>}\n    //             { checkPermission('core_user_patch') && <Route path='/editUser/:id' component={UserEdit}></Route>}\n    //             { checkPermission('core_user_details') && <Route path='/detailUser/:id' component={UserDetail}></Route>}\n    //             { checkPermission('convenience_fee_report') && <Route path='/report' component={Report}></Route>}\n    //             { checkPermission('core_agent_provider_new') && <Route path='/penyediaAdd' component={penyediaAgentAdd}></Route>}\n    //             { checkPermission('core_agent_provider_list') && <Route path='/penyediaList' component={penyediaAgentList}></Route>}\n    //             { checkPermission('core_agent_provider_patch') && <Route path='/penyediaEdit/:id' component={penyediaAgentEdit}></Route>}\n    //             { checkPermission('core_agent_provider_details') && <Route path='/penyediaDetail/:id' component={penyediaAgentDetail}></Route>}\n    //             { checkPermission('core_agent_new') && <Route path='/tambahAgent' component={AgentAdd}></Route>}\n    //             { checkPermission('core_agent_list') && <Route path='/listAgent' component={AgentList}></Route>}\n    //             { checkPermission('core_agent_patch') && <Route path='/editAgent/:id' component={AgentEdit}></Route>}\n    //             { checkPermission('core_agent_details') && <Route path='/detailAgent/:id' component={AgentDetail}></Route>}\n    //             { checkPermission('core_borrower_get_all') && <Route path='/listCalonNasabah' component={CalonNasabahList}></Route>}\n    //             { checkPermission('core_borrower_get_details') && <Route path='/detailCalonNasabah/:id' component={calonNasabahDetail}></Route>}\n    //             { checkPermission('core_borrower_get_all') && <Route path='/listCalonNasabahArsip' component={CalonNasabahArsipList}></Route>}\n    //             { checkPermission('core_borrower_get_details') && <Route path='/detailCalonNasabahArsip/:id' component={CalonNasabahArsipDetail}></Route>}\n    //             <Route path='/activitylog' component={ActivityLog}></Route>\n    //             {getToken() && getProfileUser() ?  <Route path=\"/login\" component={Home}></Route>:  <Route path=\"/login\" component={Login}></Route>} \n    //             <Route path='/ubahpassword' component={ChangePassword} />\n    //             <Route path='*' component={PageNotFound} />\n    //       </Switch>\n    //       </div>\n    //     </div>\n    //   </ScrollTop>\n    // </div>\n    ;\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    id: state.user.id\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, {\n  keepLogin\n})(App));","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/App.js"],"names":["React","Route","withRouter","Switch","connect","keepLogin","serverUrl","checkPermission","Testing","PageNotFound","TambahBank","ListBank","EditBank","DetailBank","LayananEdit","LayananAdd","LayananList","LayananDetail","Login","Header","Home","Nasabah","ScrollTop","profileNasabahDetail","PermintaanPinjaman","PermintaanPinjamanDetail","ProductAdd","ProductList","ProductDetail","ProductEdit","TypeBankAdd","TypeBankList","TujuanAdd","TujuanList","TujuanEdit","TujuanDetail","TypeBankEdit","TypeBankDetail","RoleAdd","RoleList","RoleDetail","RoleEdit","Report","RoleAddPermission","RoleListPermission","RoleDetailPermission","RoleEditPermission","UserAdd","UserList","UserDetail","UserEdit","penyediaAgentAdd","penyediaAgentEdit","penyediaAgentDetail","penyediaAgentList","AgentAdd","AgentList","AgentDetail","AgentEdit","axios","getToken","setTokenAuth","getProfileUser","getTokenAuth","CalonNasabahList","calonNasabahDetail","CalonNasabahArsipList","CalonNasabahArsipDetail","ChangePassword","ActivityLog","ResponsiveDrawer","App","Component","_isMounted","state","loading","getAuth","url","get","auth","username","password","then","res","data","token","setState","catch","err","setTimeout","alert","checkUbahPasswordLink","path","flag","split","length","componentDidMount","componentWillUnmount","componentDidUpdate","render","mapStateToProps","id","user"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport {Route,withRouter,Switch} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport {keepLogin} from './1.actions'\r\nimport {serverUrl} from './components/url'\r\nimport {checkPermission} from './components/global/globalFunction'\r\n\r\nimport Testing from './components/testing'\r\n\r\nimport PageNotFound from './components/404'\r\n\r\nimport TambahBank from './components/bank/bankAdd'\r\nimport ListBank from './components/bank/bankList'\r\nimport EditBank from './components/bank/bankEdit'\r\nimport DetailBank from './components/bank/bankDetail'\r\n\r\n\r\nimport LayananEdit from './components/layanan/layananEdit'\r\nimport LayananAdd from './components/layanan/layananAdd'\r\nimport LayananList from './components/layanan/layananList'\r\nimport LayananDetail from './components/layanan/layananDetail'\r\n\r\n\r\nimport Login from './components/index/login'\r\nimport Header from './components/index/header'\r\nimport Home from './components/index/main'\r\nimport Nasabah from './components/profileNasabah/profileNasabah'\r\nimport ScrollTop from './components/scrollToTop'\r\nimport profileNasabahDetail from './components/profileNasabah/profileNasabahDetail'\r\nimport PermintaanPinjaman from './components/permintaanPinjaman/permintaanPinjaman'\r\nimport PermintaanPinjamanDetail from './components/permintaanPinjaman/permintaanPinjamanDetail'\r\n\r\nimport ProductAdd from './components/product/productAdd'\r\nimport ProductList from './components/product/productList'\r\nimport ProductDetail from './components/product/productDetail'\r\nimport ProductEdit from './components/product/productEdit'\r\n\r\nimport TypeBankAdd from './components/tipebank/typebankAdd'\r\nimport TypeBankList from './components/tipebank/typebankList'\r\nimport TujuanAdd from './components/tujuan/tujuanAdd'\r\nimport TujuanList from './components/tujuan/tujuanList'\r\nimport TujuanEdit from './components/tujuan/tujuanEdit'\r\nimport TujuanDetail from './components/tujuan/tujuanDetail'\r\n\r\nimport TypeBankEdit from './components/tipebank/typebankEdit'\r\nimport TypeBankDetail from './components/tipebank/typebankDetail'\r\n\r\nimport RoleAdd from './components/role/roleAdd'\r\nimport RoleList from './components/role/roleList'\r\nimport RoleDetail from './components/role/roleDetail'\r\nimport RoleEdit from './components/role/roleEdit'\r\n\r\nimport Report from './components/report/report'\r\nimport RoleAddPermission from './components/rolePermission/rolePermissionAdd'\r\nimport RoleListPermission from './components/rolePermission/rolePermissionList'\r\nimport RoleDetailPermission from './components/rolePermission/rolePermissionDetail'\r\nimport RoleEditPermission from './components/rolePermission/rolePermissionEdit'\r\n\r\nimport UserAdd from './components/user/userAdd'\r\nimport UserList from './components/user/userList'\r\nimport UserDetail from './components/user/userDetail'\r\nimport UserEdit from './components/user/userEdit'\r\n\r\nimport penyediaAgentAdd from './components/penyediaAgent/penyediaAdd'\r\nimport penyediaAgentEdit from './components/penyediaAgent/penyediaEdit'\r\nimport penyediaAgentDetail from './components/penyediaAgent/penyediaDetail'\r\nimport penyediaAgentList from './components/penyediaAgent/penyediaList'\r\n\r\nimport AgentAdd from './components/agent/agentAdd'\r\nimport AgentList from './components/agent/agentList'\r\nimport AgentDetail from './components/agent/agentDetail'\r\nimport AgentEdit from './components/agent/agentEdit'\r\n\r\nimport axios from 'axios'\r\nimport { getToken, setTokenAuth, getProfileUser, getTokenAuth } from './components/index/token';\r\nimport CalonNasabahList from './components/calonNasabah/calonNasabahList';\r\nimport calonNasabahDetail from './components/calonNasabah/calonNasabahDetail';\r\nimport CalonNasabahArsipList from './components/calonNasabah/calonNasabahArsipList';\r\nimport CalonNasabahArsipDetail from './components/calonNasabah/calonNasabahArsipDetail';\r\n\r\nimport ChangePassword from './components/index/changePassword'\r\n\r\nimport ActivityLog from './components/logs/activitylog'\r\nimport ResponsiveDrawer from './components/subComponent/Drawer';\r\n\r\nclass App extends React.Component {\r\n  _isMounted = false;\r\n\r\n  state = {\r\n    loading : true , \r\n  }\r\n\r\n  componentDidMount(){\r\n    this._isMounted=true;\r\n    this.getAuth()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  componentDidUpdate () {\r\n    if(!getTokenAuth()) {\r\n      this.getAuth()\r\n    }\r\n  }\r\n\r\n  getAuth = ()=>{\r\n    var url =serverUrl+\"clientauth\"\r\n    axios.get(url ,{\r\n        auth : {\r\n          username : 'reactkey',\r\n          password : 'reactsecret'\r\n        }\r\n    }).then((res)=>{\r\n\r\n        setTokenAuth(res.data.token);\r\n        \r\n        this.setState({loading : false})   \r\n    }).catch((err)=>{\r\n      setTimeout(function(){ alert(\"Coba reload halaman/ cek koneksi internet\"); }, 5000);\r\n    })\r\n  }\r\n\r\n  checkUbahPasswordLink= (path, token) => {\r\n    let flag = false;\r\n\r\n    if(path && token) {\r\n      if(\r\n        path.split('/')[1] && path.split('/')[1] === 'ubahpassword' &&\r\n        token.split('token=')[1] && token.split('token=')[1].length !== 0\r\n      ) {\r\n        flag = true;\r\n      }\r\n    }\r\n    return flag\r\n  }\r\n\r\n  render() {  \r\n    \r\n    if(this.state.loading){\r\n      return(\r\n        <p> loading ....</p>\r\n      )\r\n    }\r\n\r\n    return (\r\n\r\n      <ResponsiveDrawer\r\n      />\r\n    \r\n      // <div>\r\n      //   <ScrollTop>\r\n      //     <div className=\"row\">\r\n      //     {\r\n      //       getToken() && getProfileUser() && !this.checkUbahPasswordLink(this.props.location && this.props.location.pathname, this.props.location && this.props.location.search) ? \r\n      //       <div className=\"col-2 col-md-3\">\r\n      //         <Header />\r\n      //       </div>\r\n      //       :\r\n      //       null\r\n      //     }\r\n      //       <div className=\"col-10 col-md-9\">\r\n      //       <Switch> \r\n      //             <Route path='/test' component={Testing}></Route>\r\n      //             <Route path='/' component={Home} exact></Route>\r\n\r\n      //             { checkPermission('core_borrower_get_all') && <Route path='/profileNasabah' component={Nasabah}></Route>}\r\n      //             { checkPermission('core_borrower_get_details') && <Route path=\"/profileNasabahDetail/:id\" component={profileNasabahDetail}></Route>}\r\n\r\n      //             { checkPermission('core_loan_get_all') && <Route path=\"/permintaanpinjaman\" component={PermintaanPinjaman}></Route>}\r\n      //             { checkPermission('core_loan_get_details') && <Route path=\"/permintaanpinjamanDetail/:idLoan\" component={PermintaanPinjamanDetail}></Route>}\r\n\r\n      //             { checkPermission('core_bank_new') && <Route path='/tambahbank' component={TambahBank}></Route>}\r\n      //             { checkPermission('core_bank_list') && <Route path='/listbank' component={ListBank}></Route>}\r\n      //             { checkPermission('core_bank_patch') && <Route path='/bankedit/:id' component={EditBank}></Route>}\r\n      //             { checkPermission('core_bank_detail') && <Route path='/bankdetail/:id' component={DetailBank}></Route>}\r\n\r\n      //             { checkPermission('core_product_new') && <Route path='/tambahproduct' component={ProductAdd}></Route>}\r\n      //             { checkPermission('core_product_list') && <Route path='/listproduct' component={ProductList}></Route>}\r\n      //             { checkPermission('core_product_patch') && <Route path='/productedit/:id' component={ProductEdit}></Route>}\r\n      //             { checkPermission('core_product_detail') && <Route path='/productdetail/:id' component={ProductDetail}></Route>}\r\n                \r\n                                    \r\n      //             { checkPermission('core_service_new') && <Route path='/tambahlayanan' component={LayananAdd}></Route>}\r\n      //             { checkPermission('core_service_list') && <Route path='/listlayanan' component={LayananList}></Route>}\r\n      //             { checkPermission('core_service_patch') && <Route path='/layananedit/:id' component={LayananEdit}></Route>}\r\n      //             { checkPermission('core_service_detail') && <Route path='/layanandetail/:id' component={LayananDetail}></Route>}\r\n\r\n\r\n      //             { checkPermission('core_bank_type_new') && <Route path='/tambahtipe' component={TypeBankAdd}></Route>}\r\n      //             { checkPermission('core_bank_type_list') && <Route path='/listtipe' component={TypeBankList}></Route>}\r\n      //             { checkPermission('core_bank_type_patch') && <Route path='/banktypeedit/:id' component={TypeBankEdit}></Route>}\r\n      //             { checkPermission('core_bank_type_detail') && <Route path='/banktypedetail/:id' component={TypeBankDetail}></Route>}\r\n                  \r\n      //             { checkPermission('core_loan_purpose_new') && <Route path='/tambahtujuan' component={TujuanAdd}></Route>}\r\n      //             { checkPermission('core_loan_purpose_list') && <Route path='/listtujuan' component={TujuanList}></Route>}\r\n      //             { checkPermission('core_loan_purpose_patch') && <Route path='/tujuanedit/:id' component={TujuanEdit}></Route>}\r\n      //             { checkPermission('core_loan_purpose_detail') && <Route path='/tujuandetail/:id' component={TujuanDetail}></Route>}\r\n                  \r\n      //             { checkPermission('core_role_new') && <Route path='/tambahrole' component={RoleAdd}></Route>}\r\n      //             { checkPermission('core_role_list') && <Route path='/listrole' component={RoleList}></Route>}\r\n      //             { checkPermission('core_role_patch') && <Route path='/editrole/:id' component={RoleEdit}></Route>}\r\n      //             { checkPermission('core_role_details') && <Route path='/detailrole/:id' component={RoleDetail}></Route>}\r\n\r\n      //             { checkPermission('core_permission_new') && <Route path='/tambahRolePermission' component={RoleAddPermission}></Route>}\r\n      //             { checkPermission('core_permission_list') && <Route path='/listRolePermission' component={RoleListPermission}></Route>}\r\n      //             { checkPermission('core_permission_patch') && <Route path='/editRolePermission/:id' component={RoleEditPermission}></Route>}\r\n      //             { checkPermission('core_permission_detail') && <Route path='/detailRolePermission/:id' component={RoleDetailPermission}></Route>}\r\n\r\n      //             { checkPermission('core_user_new') && <Route path='/tambahUser' component={UserAdd}></Route>}\r\n      //             { checkPermission('core_user_list') && <Route path='/listUser' component={UserList}></Route>}\r\n      //             { checkPermission('core_user_patch') && <Route path='/editUser/:id' component={UserEdit}></Route>}\r\n      //             { checkPermission('core_user_details') && <Route path='/detailUser/:id' component={UserDetail}></Route>}\r\n\r\n      //             { checkPermission('convenience_fee_report') && <Route path='/report' component={Report}></Route>}\r\n\r\n      //             { checkPermission('core_agent_provider_new') && <Route path='/penyediaAdd' component={penyediaAgentAdd}></Route>}\r\n      //             { checkPermission('core_agent_provider_list') && <Route path='/penyediaList' component={penyediaAgentList}></Route>}\r\n      //             { checkPermission('core_agent_provider_patch') && <Route path='/penyediaEdit/:id' component={penyediaAgentEdit}></Route>}\r\n      //             { checkPermission('core_agent_provider_details') && <Route path='/penyediaDetail/:id' component={penyediaAgentDetail}></Route>}\r\n\r\n      //             { checkPermission('core_agent_new') && <Route path='/tambahAgent' component={AgentAdd}></Route>}\r\n      //             { checkPermission('core_agent_list') && <Route path='/listAgent' component={AgentList}></Route>}\r\n      //             { checkPermission('core_agent_patch') && <Route path='/editAgent/:id' component={AgentEdit}></Route>}\r\n      //             { checkPermission('core_agent_details') && <Route path='/detailAgent/:id' component={AgentDetail}></Route>}\r\n\r\n      //             { checkPermission('core_borrower_get_all') && <Route path='/listCalonNasabah' component={CalonNasabahList}></Route>}\r\n      //             { checkPermission('core_borrower_get_details') && <Route path='/detailCalonNasabah/:id' component={calonNasabahDetail}></Route>}\r\n\r\n      //             { checkPermission('core_borrower_get_all') && <Route path='/listCalonNasabahArsip' component={CalonNasabahArsipList}></Route>}\r\n      //             { checkPermission('core_borrower_get_details') && <Route path='/detailCalonNasabahArsip/:id' component={CalonNasabahArsipDetail}></Route>}\r\n\r\n      //             <Route path='/activitylog' component={ActivityLog}></Route>\r\n      //             {getToken() && getProfileUser() ?  <Route path=\"/login\" component={Home}></Route>:  <Route path=\"/login\" component={Login}></Route>} \r\n      //             <Route path='/ubahpassword' component={ChangePassword} />\r\n      //             <Route path='*' component={PageNotFound} />\r\n      //       </Switch>\r\n      //       </div>\r\n      //     </div>\r\n      //   </ScrollTop>\r\n      // </div>\r\n    \r\n    );\r\n \r\n  }\r\n}\r\n  \r\nconst mapStateToProps = (state)=>{\r\n  return {\r\n      id : state.user.id\r\n\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps,{keepLogin}) (App));"]},"metadata":{},"sourceType":"module"}