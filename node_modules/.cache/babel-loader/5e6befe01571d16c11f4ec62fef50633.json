{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_core\\\\src\\\\components\\\\tujuan\\\\tujuanList.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { checkPermission } from './../global/globalFunction';\nimport { TujuanListFunction } from './saga';\nimport { getToken } from '../index/token';\nimport TableComponent from './../subComponent/TableComponent';\nconst columnDataUser = [{\n  id: 'id',\n  numeric: false,\n  label: 'ID Tujuan'\n}, {\n  id: 'name',\n  numeric: false,\n  label: 'Tujuan Pembiayaan'\n}];\n\nclass TujuanList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this._isMounted = false;\n    this.state = {\n      loading: true,\n      rows: [],\n      total_data: 10,\n      page: 1,\n      from: 1,\n      to: 3,\n      last_page: 1,\n      rowsPerPage: 10,\n      paging: true\n    };\n\n    this.getAllList = async function () {\n      const params = {\n        page: this.state.page,\n        rows: 10\n      };\n      const data = await TujuanListFunction(params);\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            loading: false,\n            rows: data.data.data,\n            total_data: data.data.total_data,\n            page: data.data.current_page,\n            from: data.data.from,\n            to: data.data.to,\n            last_page: data.data.last_page,\n            rowsPerPage: data.data.rows\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error,\n            submit: false\n          });\n        }\n      }\n    };\n\n    this.onChangePage = current => {\n      this.setState({\n        loading: true,\n        page: current\n      }, () => {\n        if (this.state.paging) {\n          this.getAllList();\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.getAllList();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    if (getToken()) {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Tujuan Pembiayaan - List\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(TableComponent, {\n        id: \"id\",\n        paging: this.state.paging,\n        loading: this.state.loading,\n        columnData: columnDataUser,\n        data: this.state.rows,\n        page: this.state.page,\n        rowsPerPage: this.state.rowsPerPage,\n        totalData: this.state.total_data,\n        onChangePage: this.onChangePage,\n        permissionEdit: checkPermission('core_loan_purpose_patch') ? '/tujuanedit/' : null,\n        permissionDetail: checkPermission('core_loan_purpose_detail') ? '/tujuandetail/' : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }));\n    }\n\n    if (!getToken()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default TujuanList;","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/tujuan/tujuanList.js"],"names":["React","Redirect","checkPermission","TujuanListFunction","getToken","TableComponent","columnDataUser","id","numeric","label","TujuanList","Component","_isMounted","state","loading","rows","total_data","page","from","to","last_page","rowsPerPage","paging","getAllList","params","data","error","setState","current_page","errorMessage","submit","onChangePage","current","componentDidMount","componentWillUnmount","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAAQC,eAAR,QAA8B,4BAA9B;AACA,SAAQC,kBAAR,QAAiC,QAAjC;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AAEA,MAAMC,cAAc,GAAG,CACnB;AACIC,EAAAA,EAAE,EAAE,IADR;AAEIC,EAAAA,OAAO,EAAE,KAFb;AAGIC,EAAAA,KAAK,EAAE;AAHX,CADmB,EAMnB;AACIF,EAAAA,EAAE,EAAE,MADR;AAEIC,EAAAA,OAAO,EAAE,KAFb;AAGIC,EAAAA,KAAK,EAAE;AAHX,CANmB,CAAvB;;AAaA,MAAMC,UAAN,SAAyBV,KAAK,CAACW,SAA/B,CAAwC;AAAA;AAAA;AAAA,SACpCC,UADoC,GACvB,KADuB;AAAA,SAEpCC,KAFoC,GAE9B;AACFC,MAAAA,OAAO,EAAC,IADN;AACWC,MAAAA,IAAI,EAAC,EADhB;AACmBC,MAAAA,UAAU,EAAC,EAD9B;AACiCC,MAAAA,IAAI,EAAC,CADtC;AACwCC,MAAAA,IAAI,EAAC,CAD7C;AAC+CC,MAAAA,EAAE,EAAC,CADlD;AACoDC,MAAAA,SAAS,EAAC,CAD9D;AACgEC,MAAAA,WAAW,EAAC,EAD5E;AAC+EC,MAAAA,MAAM,EAAC;AADtF,KAF8B;;AAAA,SAapCC,UAboC,GAavB,kBAAkB;AAC3B,YAAMC,MAAM,GAAG;AACXP,QAAAA,IAAI,EAAC,KAAKJ,KAAL,CAAWI,IADL;AAEXF,QAAAA,IAAI,EAAC;AAFM,OAAf;AAIA,YAAMU,IAAI,GAAG,MAAMtB,kBAAkB,CAACqB,MAAD,CAArC;;AAEA,UAAGC,IAAH,EAAQ;AACJ,YAAG,CAACA,IAAI,CAACC,KAAT,EAAe;AACX,eAAKC,QAAL,CAAc;AAACb,YAAAA,OAAO,EAAC,KAAT;AAAeC,YAAAA,IAAI,EAACU,IAAI,CAACA,IAAL,CAAUA,IAA9B;AACVT,YAAAA,UAAU,EAACS,IAAI,CAACA,IAAL,CAAUT,UADX;AAEVC,YAAAA,IAAI,EAACQ,IAAI,CAACA,IAAL,CAAUG,YAFL;AAGVV,YAAAA,IAAI,EAACO,IAAI,CAACA,IAAL,CAAUP,IAHL;AAIVC,YAAAA,EAAE,EAACM,IAAI,CAACA,IAAL,CAAUN,EAJH;AAKVC,YAAAA,SAAS,EAACK,IAAI,CAACA,IAAL,CAAUL,SALV;AAMVC,YAAAA,WAAW,EAACI,IAAI,CAACA,IAAL,CAAUV;AANZ,WAAd;AASH,SAVD,MAUK;AACD,eAAKY,QAAL,CAAc;AAACE,YAAAA,YAAY,EAACJ,IAAI,CAACC,KAAnB;AAAyBI,YAAAA,MAAM,EAAC;AAAhC,WAAd;AACH;AACJ;AACJ,KAnCmC;;AAAA,SAoCpCC,YApCoC,GAoCpBC,OAAD,IAAa;AACxB,WAAKL,QAAL,CAAc;AAACb,QAAAA,OAAO,EAAC,IAAT;AAAeG,QAAAA,IAAI,EAAGe;AAAtB,OAAd,EAA8C,MAAM;AAChD,YAAG,KAAKnB,KAAL,CAAWS,MAAd,EAAqB;AACjB,eAAKC,UAAL;AACH;AACJ,OAJD;AAKH,KA1CmC;AAAA;;AAKpCU,EAAAA,iBAAiB,GAAG;AAChB,SAAKrB,UAAL,GAAkB,IAAlB;AACA,SAAKW,UAAL;AACH;;AACDW,EAAAA,oBAAoB,GAAG;AACnB,SAAKtB,UAAL,GAAkB,KAAlB;AACH;;AAiCDuB,EAAAA,MAAM,GAAE;AACJ,QAAG/B,QAAQ,EAAX,EAAc;AACV,aACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAI,QAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADH,EAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFH,EAGG,oBAAE,cAAF;AACK,QAAA,EAAE,EAAE,IADT;AAEK,QAAA,MAAM,EAAE,KAAKS,KAAL,CAAWS,MAFxB;AAGK,QAAA,OAAO,EAAE,KAAKT,KAAL,CAAWC,OAHzB;AAIK,QAAA,UAAU,EAAER,cAJjB;AAKK,QAAA,IAAI,EAAE,KAAKO,KAAL,CAAWE,IALtB;AAMK,QAAA,IAAI,EAAE,KAAKF,KAAL,CAAWI,IANtB;AAOK,QAAA,WAAW,EAAE,KAAKJ,KAAL,CAAWQ,WAP7B;AAQK,QAAA,SAAS,EAAE,KAAKR,KAAL,CAAWG,UAR3B;AASK,QAAA,YAAY,EAAE,KAAKe,YATxB;AAUK,QAAA,cAAc,EAAG7B,eAAe,CAAC,yBAAD,CAAf,GAA6C,cAA7C,GAA8D,IAVpF;AAWK,QAAA,gBAAgB,EAAGA,eAAe,CAAC,0BAAD,CAAf,GAA8C,gBAA9C,GAAiE,IAXzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHH,CADJ;AAsBH;;AACD,QAAG,CAACE,QAAQ,EAAZ,EAAe;AACX,aACI,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH;AAEJ;;AA3EmC;;AA8ExC,eAAeM,UAAf","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport {checkPermission} from './../global/globalFunction'\r\nimport {TujuanListFunction} from './saga'\r\nimport { getToken } from '../index/token';\r\nimport TableComponent from './../subComponent/TableComponent'\r\n\r\nconst columnDataUser = [\r\n    {\r\n        id: 'id',\r\n        numeric: false,\r\n        label: 'ID Tujuan',\r\n    },\r\n    {\r\n        id: 'name',\r\n        numeric: false,\r\n        label: 'Tujuan Pembiayaan',\r\n    },\r\n\r\n]\r\nclass TujuanList extends React.Component{\r\n    _isMounted = false\r\n    state={\r\n        loading:true,rows:[],total_data:10,page:1,from:1,to:3,last_page:1,rowsPerPage:10,paging:true\r\n    }\r\n    componentDidMount (){\r\n        this._isMounted = true;\r\n        this.getAllList()\r\n    }\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    getAllList = async function () {\r\n        const params = {\r\n            page:this.state.page,\r\n            rows:10\r\n        }\r\n        const data = await TujuanListFunction(params)\r\n\r\n        if(data){\r\n            if(!data.error){\r\n                this.setState({loading:false,rows:data.data.data,\r\n                    total_data:data.data.total_data,\r\n                    page:data.data.current_page,\r\n                    from:data.data.from,\r\n                    to:data.data.to,\r\n                    last_page:data.data.last_page,\r\n                    rowsPerPage:data.data.rows,\r\n                    \r\n                })\r\n            }else{\r\n                this.setState({errorMessage:data.error,submit:false})\r\n            }\r\n        }\r\n    }\r\n    onChangePage = (current) => {\r\n        this.setState({loading:true, page : current}, () => {\r\n            if(this.state.paging){\r\n                this.getAllList()\r\n            }\r\n        })\r\n    }\r\n\r\n    render(){\r\n        if(getToken()){\r\n            return(\r\n                <div className=\"container\">\r\n                   <h2 className=\"mt-3\">Tujuan Pembiayaan - List</h2>\r\n                   <hr/>\r\n                   < TableComponent\r\n                        id={\"id\"}\r\n                        paging={this.state.paging}\r\n                        loading={this.state.loading}\r\n                        columnData={columnDataUser}\r\n                        data={this.state.rows}\r\n                        page={this.state.page}\r\n                        rowsPerPage={this.state.rowsPerPage}\r\n                        totalData={this.state.total_data}\r\n                        onChangePage={this.onChangePage}             \r\n                        permissionEdit={ checkPermission('core_loan_purpose_patch') ? '/tujuanedit/' : null}\r\n                        permissionDetail={ checkPermission('core_loan_purpose_detail') ? '/tujuandetail/' : null}\r\n\r\n                    /> \r\n                  \r\n    \r\n                </div>\r\n            )\r\n        }\r\n        if(!getToken()){\r\n            return (\r\n                <Redirect to='/login' />\r\n            )    \r\n        }\r\n       \r\n    }\r\n}\r\n\r\nexport default TujuanList;"]},"metadata":{},"sourceType":"module"}