{"ast":null,"code":"import axios from 'axios';\nimport { serverUrl } from '../url';\nimport { getToken } from '../index/token';\nimport { destructErrorMessage } from '../global/globalFunction';\nexport async function AddRoleFunction(param) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + getToken()\n      }\n    };\n    axios.post(serverUrl + 'admin/roles', param, config).then(res => {\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && destructErrorMessage(err.response.data) || err.toString();\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function ListRoleFunction(param) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + getToken()\n      }\n    };\n    let filter = '';\n\n    for (const key in param) {\n      filter += `&${key}=${param[key]}`;\n    }\n\n    axios.get(serverUrl + `admin/roles?orderby=updated_at&sort=desc${filter}`, config).then(res => {\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && destructErrorMessage(err.response.data) || err.toString();\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function DetailRoleFunction(param) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + getToken()\n      }\n    };\n    axios.get(serverUrl + `admin/roles/${param.id}`, config).then(res => {\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && destructErrorMessage(err.response.data) || err.toString();\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function EditRoleFunction(param) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + getToken()\n      }\n    };\n    axios.patch(serverUrl + `admin/roles/${param.id}`, param.newData, config).then(res => {\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && destructErrorMessage(err.response.data) || err.toString();\n      param.error = error;\n      resolve(param);\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/role/saga.js"],"names":["axios","serverUrl","getToken","destructErrorMessage","AddRoleFunction","param","Promise","resolve","config","headers","post","then","res","catch","err","error","response","data","toString","ListRoleFunction","filter","key","get","DetailRoleFunction","id","EditRoleFunction","patch","newData"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { serverUrl } from '../url';\r\nimport { getToken } from '../index/token';\r\nimport { destructErrorMessage } from '../global/globalFunction';\r\n\r\nexport async function AddRoleFunction (param){\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + getToken()}\r\n        };\r\n        axios.post(serverUrl+'admin/roles',param,config)\r\n        .then((res)=>{\r\n            resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error = (err.response && err.response.data && destructErrorMessage(err.response.data))|| err.toString()\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function ListRoleFunction (param){\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + getToken()}\r\n        };\r\n        let filter = '';\r\n\r\n        for(const key in param) {\r\n            filter += `&${key}=${param[key]}`\r\n        }\r\n        axios.get(serverUrl+`admin/roles?orderby=updated_at&sort=desc${filter}`,config)\r\n        .then((res)=>{\r\n            resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error = (err.response && err.response.data && destructErrorMessage(err.response.data))|| err.toString()\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function DetailRoleFunction (param){\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" +  getToken()}\r\n        };\r\n        axios.get(serverUrl+`admin/roles/${param.id}`,config)\r\n        .then((res)=>{\r\n            resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error = (err.response && err.response.data && destructErrorMessage(err.response.data))|| err.toString()\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function EditRoleFunction (param){\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" +  getToken()}\r\n        };\r\n        axios.patch(serverUrl+`admin/roles/${param.id}`,param.newData,config)\r\n        .then((res)=>{\r\n            resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error = (err.response && err.response.data && destructErrorMessage(err.response.data))|| err.toString()\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}