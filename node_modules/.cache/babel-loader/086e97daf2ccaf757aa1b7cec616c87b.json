{"ast":null,"code":"import { serverUrl } from '../url';\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\nconst cookie = new Cookies();\nexport async function getAllLayananListFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    let filter = '';\n\n    for (const key in param) {\n      filter += `${[key]} = ${param[key]}`;\n    }\n\n    axios.get(serverUrl + `admin/services?orderby=updated_time&sort=asc${filter}`, config).then(res => {\n      if (next) {\n        resolve(next(param));\n      } else {\n        resolve(res);\n      }\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function getDetailLayananFunction(param, next) {\n  return new Promise(async resolve => {\n    var config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    axios.get(serverUrl + `admin/services/${param.id}`, config).then(res => {\n      if (next) {\n        param.image_id = res.data.image_id;\n        param.data = res.data;\n        resolve(next(param));\n      }\n\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function getImageFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    axios.get(serverUrl + `admin/image/${param.image_id}`, config).then(res => {\n      param.imageData = res.data;\n\n      if (next) {\n        resolve(next(param));\n      } else {\n        resolve(param);\n      }\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function editLayananFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    axios.patch(serverUrl + `admin/services/${param.id}`, param.newData, config).then(res => {\n      param = res;\n\n      if (next) {\n        resolve(next(param));\n      }\n\n      resolve(param);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function addLayananFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + cookie.get('token')\n      }\n    };\n    axios.post(serverUrl + 'admin/services', param, config).then(res => {\n      resolve(res);\n    }).catch(err => {\n      const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`;\n      param.error = error;\n      resolve(param);\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/layanan/saga.js"],"names":["serverUrl","axios","Cookies","cookie","getAllLayananListFunction","param","next","Promise","resolve","config","headers","get","filter","key","then","res","catch","err","error","response","data","message","toString","toUpperCase","getDetailLayananFunction","id","image_id","getImageFunction","imageData","editLayananFunction","patch","newData","addLayananFunction","post"],"mappings":"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","sourcesContent":["import { serverUrl } from '../url';\r\nimport axios from 'axios'\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookie = new Cookies()\r\n\r\nexport async function getAllLayananListFunction(param,next) {\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n          };\r\n        let filter =''\r\n        \r\n        for (const key in param){\r\n            filter += `${[key]} = ${param[key]}`\r\n        }\r\n\r\n\r\n        axios.get(serverUrl+`admin/services?orderby=updated_time&sort=asc${filter}`,config)\r\n        .then((res)=>{\r\n            if(next){\r\n                resolve(next(param))\r\n            }else{\r\n                resolve(res)\r\n            }\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function getDetailLayananFunction(param,next) {\r\n    return new Promise(async (resolve)=>{\r\n        var config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n          };\r\n        axios.get(serverUrl+`admin/services/${param.id}`,config)\r\n        .then((res)=>{\r\n          \r\n            if(next){\r\n                param.image_id = res.data.image_id\r\n                param.data = res.data\r\n                resolve(next(param))\r\n            }\r\n                resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function getImageFunction(param,next) {\r\n    return new Promise(async (resolve)=>{\r\n        const config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n          };\r\n        axios.get(serverUrl+`admin/image/${param.image_id}`,config)\r\n        .then((res)=>{\r\n            param.imageData = res.data\r\n            if(next){\r\n                resolve(next(param))\r\n            }else{\r\n                resolve(param)\r\n            }\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n\r\nexport async function editLayananFunction (param,next){\r\n    return new Promise(async (resolve)=>{\r\n        const config = {headers: {'Authorization': \"Bearer \" + cookie.get('token')}};\r\n        axios.patch(serverUrl+`admin/services/${param.id}`,param.newData,config)\r\n        .then((res)=>{\r\n            param = res\r\n           if(next){\r\n            resolve(next(param))\r\n           }\r\n           resolve(param)\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}\r\n    \r\nexport async function addLayananFunction (param, next){\r\n    return new Promise(async (resolve)=>{\r\n        const config = {headers: {'Authorization': \"Bearer \" + cookie.get('token')}};\r\n        axios.post(serverUrl+'admin/services',param,config)\r\n        .then((res)=>{\r\n           resolve(res)\r\n        })\r\n        .catch((err)=>{\r\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}