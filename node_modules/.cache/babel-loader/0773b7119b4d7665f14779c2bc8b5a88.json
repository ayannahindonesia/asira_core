{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_core\\\\src\\\\components\\\\agent\\\\agentEdit.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loader from 'react-loader-spinner';\nimport CheckBox from '@material-ui/core/Checkbox';\nimport DropDown from '../subComponent/DropDown';\nimport swal from 'sweetalert';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { withStyles } from '@material-ui/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { compose } from 'redux';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { getAgentFunction, patchAgentAddFunction } from './saga';\nimport { validateEmail, validatePhone } from '../global/globalFunction';\nimport { getToken } from '../index/token';\nimport { getAllMitraList } from '../mitra/saga';\nimport { getPenyediaAgentListFunction } from '../penyediaAgent/saga';\nimport { isRoleAccountExecutive, destructAgent, constructAgent } from './function';\nimport BrokenLink from './../../support/img/default.png';\n\nconst styles = theme => ({\n  container: {\n    flexGrow: 1\n  },\n  textField: {\n    border: '1px solid'\n  }\n});\n\nclass AgentEdit extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this._isMounted = false;\n    this.state = {\n      diKlik: false,\n      errorMessage: '',\n      agentId: 0,\n      kategori: 'agent',\n      kategori_name: '',\n      dataAgent: {},\n      bank: [],\n      instansi: '',\n      listBank: [],\n      loading: true,\n      status: true,\n      agentName: '',\n      agent_provider_name: '',\n      username: '',\n      phone: '',\n      email: '',\n      image: '',\n      selectedFile: ''\n    };\n\n    this.valueHandler = () => {\n      return this.state.selectedFile ? this.state.selectedFile.name : \"Browse Image\";\n    };\n\n    this.onChangeHandler = event => {\n      //untuk mendapatkan file image\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    this.refresh = async function () {\n      const param = {\n        agentId: this.state.agentId\n      };\n      const data = await getAgentFunction(param, getPenyediaAgentListFunction, getAllMitraList);\n\n      if (data) {\n        if (!data.error) {\n          const dataAgent = destructAgent(data.dataAgent, false, data.mitraList.data);\n          this.setState({\n            listBank: data.mitraList.data,\n            status: dataAgent.status,\n            agentId: dataAgent.id,\n            agentName: dataAgent.name,\n            username: dataAgent.username,\n            phone: dataAgent.phone && dataAgent.phone.toString().substring(2, dataAgent.phone.length),\n            email: dataAgent.email,\n            kategori: dataAgent.category,\n            kategori_name: dataAgent.category_name,\n            agent_provider_name: dataAgent.agent_provider_name,\n            bank: dataAgent.banks,\n            instansi: dataAgent.instansi,\n            image: dataAgent.image,\n            loading: false\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error,\n            loading: false\n          });\n        }\n      }\n    };\n\n    this.btnSave = () => {\n      if (this.validate()) {\n        const dataAgent = constructAgent(this.state);\n        const param = {\n          agentId: this.state.agentId,\n          dataAgent\n        };\n\n        if (this.state.selectedFile) {\n          const pic = this.state.selectedFile;\n          const reader = new FileReader();\n          reader.readAsDataURL(pic);\n\n          reader.onload = () => {\n            var arr = reader.result.split(\",\");\n            var image = arr[1].toString();\n            param.dataAgent.image = image;\n            this.setState({\n              loading: true\n            });\n            this.patchAgent(param);\n          };\n\n          reader.onerror = function (error) {\n            this.setState({\n              errorMessage: \"Gambar gagal tersimpan\"\n            });\n          };\n        } else {\n          this.setState({\n            loading: true\n          });\n          this.patchAgent(param);\n        }\n      }\n    };\n\n    this.btnCancel = () => {\n      this.setState({\n        diKlik: true\n      });\n    };\n\n    this.onChangeCheck = e => {\n      this.setState({\n        status: !this.state.status\n      });\n    };\n\n    this.onChangeTextField = e => {\n      let value = e.target.value;\n      let labelName = e.target.id;\n      let flag = true;\n\n      if (labelName !== 'agentName' && (value.includes(' ') || value.includes('\\'') || value.includes('\"') || value.includes(','))) {\n        flag = false;\n      }\n\n      if (labelName === 'phone' && isNaN(value)) {\n        flag = false;\n      }\n\n      if (flag) {\n        this.setState({\n          [labelName]: value\n        });\n      }\n    };\n\n    this.onChangeDropDownMultiple = e => {\n      const dataBank = this.state.listBank;\n      const lastBank = this.state.bank;\n      const newBank = e.target.value[e.target.value.length - 1];\n      const newListBank = [];\n      let flag = true;\n\n      for (const key in lastBank) {\n        if (lastBank[key].id.toString().toLowerCase() !== newBank.toString().toLowerCase()) {\n          newListBank.push(lastBank[key]);\n        } else {\n          flag = false;\n        }\n      }\n\n      if (flag) {\n        for (const key in dataBank) {\n          if (dataBank[key].id.toString().toLowerCase() === newBank.toString().toLowerCase()) {\n            newListBank.push(dataBank[key]);\n            break;\n          }\n        }\n      }\n\n      this.setState({\n        bank: newListBank\n      });\n    };\n\n    this.patchAgent = async function (param) {\n      const data = await patchAgentAddFunction(param);\n\n      if (data) {\n        if (!data.error) {\n          swal(\"Success\", \"Agen berhasil di ubah\", \"success\");\n          this.setState({\n            diKlik: true,\n            loading: false\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error,\n            loading: false\n          });\n        }\n      }\n    };\n\n    this.handleDelete = (e, value) => {\n      const bank = this.state.bank;\n      const newBank = [];\n\n      for (const key in bank) {\n        if (bank[key].id.toString().toLowerCase() !== value.toString().toLowerCase()) {\n          newBank.push(bank[key]);\n        }\n      }\n\n      this.setState({\n        bank: newBank\n      });\n    };\n\n    this.validate = () => {\n      let flag = true;\n      let errorMessage = '';\n\n      if (!this.state.username || this.state.username.length === 0) {\n        flag = false;\n        errorMessage = 'Mohon input username dengan benar';\n      } else if (!this.state.agentName || this.state.agentName.trim().length === 0) {\n        flag = false;\n        errorMessage = 'Mohon input nama agen dengan benar';\n      } else if (!this.state.email || this.state.email.length === 0 || !validateEmail(this.state.email)) {\n        flag = false;\n        errorMessage = 'Mohon input email dengan benar';\n      } else if (!this.state.phone || this.state.phone.length === 0 || !validatePhone(`62${this.state.phone}`)) {\n        flag = false;\n        errorMessage = 'Mohon input kontak pic dengan benar';\n      } else if (!this.state.instansi || this.state.instansi.length === 0) {\n        flag = false;\n        errorMessage = 'Mohon input instansi dengan benar';\n      } else if (!isRoleAccountExecutive(this.state.kategori) && (!this.state.bank || this.state.bank.length === 0)) {\n        flag = false;\n        errorMessage = 'Mohon input bank dengan benar';\n      } else {\n        errorMessage = '';\n      }\n\n      this.setState({\n        errorMessage\n      });\n      return flag;\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.setState({\n      agentId: this.props.match.params.id\n    }, () => {\n      this.refresh();\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  UNSAFE_componentWillReceiveProps(newProps) {\n    this.setState({\n      errorMessage: newProps.error\n    });\n  }\n\n  render() {\n    if (this.state.diKlik) {\n      return React.createElement(Redirect, {\n        to: \"/agenList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      });\n    } else if (this.state.loading) {\n      return React.createElement(\"div\", {\n        key: \"zz\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        align: \"center\",\n        colSpan: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        type: \"Circles\",\n        color: \"#00BFFF\",\n        height: \"40\",\n        width: \"40\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      })));\n    } else if (getToken()) {\n      return React.createElement(\"div\", {\n        className: \"container mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \"Agen - Ubah\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12\",\n        style: {\n          color: \"red\",\n          fontSize: \"15px\",\n          textAlign: 'left',\n          marginBottom: '2vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, this.state.errorMessage)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        style: {\n          marginBottom: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, \"Id Agen\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, \":\"), React.createElement(\"div\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, this.state.agentId)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        style: {\n          marginBottom: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, \"Nama Agen\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, \":\"), React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"agentName\",\n        onChange: this.onChangeTextField,\n        value: this.state.agentName,\n        hiddenLabel: true,\n        fullWidth: true,\n        placeholder: \"Nama Agen\",\n        style: {\n          border: '1px groove',\n          paddingLeft: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        style: {\n          marginBottom: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, \"Id Pengguna (username)\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, \":\"), React.createElement(\"div\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, this.state.username)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        style: {\n          marginBottom: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 1.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 1.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, \":\"), React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"email\",\n        type: \"email\",\n        onChange: this.onChangeTextField,\n        value: this.state.email,\n        hiddenLabel: true,\n        fullWidth: true,\n        placeholder: \"Email\",\n        style: {\n          border: '1px groove',\n          paddingLeft: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        style: {\n          marginBottom: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 1.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, \"No HP\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 1.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, \":\"), React.createElement(\"div\", {\n        className: \"col-sm-1\",\n        style: {\n          lineHeight: 1.5,\n          textAlign: 'right',\n          paddingTop: '5px',\n          paddingRight: '0px',\n          paddingLeft: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, \"(+62)\"), React.createElement(\"div\", {\n        className: \"col-sm-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"phone\",\n        type: \"tel\",\n        onChange: this.onChangeTextField,\n        value: this.state.phone,\n        hiddenLabel: true,\n        fullWidth: true,\n        placeholder: \"Nomor Handphone\",\n        style: {\n          border: '1px groove',\n          paddingLeft: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        style: {\n          marginBottom: 7\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 1.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, \"Kategori\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 1.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }, \":\"), React.createElement(\"div\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          height: 1.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }, this.state.kategori_name)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        style: {\n          marginBottom: 7\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, \"Instansi\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }, \":\"), React.createElement(\"div\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, this.state.instansi)), !isRoleAccountExecutive(this.state.kategori) && React.createElement(\"div\", {\n        className: \"form-group row\",\n        style: {\n          marginBottom: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, \"Mitra Pelayanan\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }, \":\"), React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, React.createElement(DropDown, {\n        multiple: true,\n        value: this.state.bank,\n        label: \"Bank\",\n        data: this.state.listBank,\n        id: \"id\",\n        labelName: \"name\",\n        onChange: this.onChangeDropDownMultiple,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }, \"Status\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, \":\"), React.createElement(\"div\", {\n        className: \"col-4\",\n        style: {\n          color: \"black\",\n          fontSize: \"15px\",\n          alignItems: 'left',\n          paddingTop: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }, React.createElement(FormControlLabel, {\n        control: React.createElement(CheckBox, {\n          color: \"default\",\n          onChange: this.onChangeCheck,\n          checked: this.state.status,\n          style: {\n            justifyContent: 'left'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 453\n          },\n          __self: this\n        }),\n        label: this.state.status ? \"Aktif\" : \"Tidak Aktif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        style: {\n          marginBottom: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467\n        },\n        __self: this\n      }, \"Edit Gambar\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, \":\"), React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"btn btn-primary\",\n        type: \"button\",\n        onClick: () => this.refs.input.click(),\n        value: this.valueHandler(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        ref: \"input\",\n        style: {\n          display: \"none\"\n        },\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: this.onChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480\n        },\n        __self: this\n      }, \"Gambar Agen\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483\n        },\n        __self: this\n      }, \":\"), React.createElement(\"div\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          height: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: `${this.state.image}`,\n        width: \"100px\",\n        height: \"100px\",\n        alt: \"Foto agen\",\n        onError: e => {\n          e.target.attributes.getNamedItem(\"src\").value = BrokenLink;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12 ml-3 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"button\",\n        value: \"Ubah\",\n        className: \"btn btn-success\",\n        onClick: this.btnSave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"button\",\n        value: \"Batal\",\n        className: \"btn ml-2\",\n        onClick: this.btnCancel,\n        style: {\n          backgroundColor: \"grey\",\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498\n        },\n        __self: this\n      })))));\n    } else if (getToken()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport function mapDispatchToProps(dispatch) {\n  return {//   getSourceTransaction: () => {\n    //     dispatch(sourceTransactionRequest());\n    //   handleRedirect: (route) => {\n    //     dispatch(push(route));\n    //   },\n  };\n}\nexport const mapStateToProps = createStructuredSelector({// user: getUserState(),\n});\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nconst withStyle = withStyles(styles);\nexport default compose(withConnect, withStyle, withRouter)(AgentEdit);","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/agent/agentEdit.js"],"names":["React","Redirect","Loader","CheckBox","DropDown","swal","createStructuredSelector","connect","withRouter","withStyles","TextField","compose","FormControlLabel","getAgentFunction","patchAgentAddFunction","validateEmail","validatePhone","getToken","getAllMitraList","getPenyediaAgentListFunction","isRoleAccountExecutive","destructAgent","constructAgent","BrokenLink","styles","theme","container","flexGrow","textField","border","AgentEdit","Component","_isMounted","state","diKlik","errorMessage","agentId","kategori","kategori_name","dataAgent","bank","instansi","listBank","loading","status","agentName","agent_provider_name","username","phone","email","image","selectedFile","valueHandler","name","onChangeHandler","event","setState","target","files","refresh","param","data","error","mitraList","id","toString","substring","length","category","category_name","banks","btnSave","validate","pic","reader","FileReader","readAsDataURL","onload","arr","result","split","patchAgent","onerror","btnCancel","onChangeCheck","e","onChangeTextField","value","labelName","flag","includes","isNaN","onChangeDropDownMultiple","dataBank","lastBank","newBank","newListBank","key","toLowerCase","push","handleDelete","trim","componentDidMount","props","match","params","componentWillUnmount","UNSAFE_componentWillReceiveProps","newProps","render","color","fontSize","textAlign","marginBottom","height","paddingLeft","lineHeight","paddingTop","paddingRight","alignItems","justifyContent","refs","input","click","display","attributes","getNamedItem","backgroundColor","mapDispatchToProps","dispatch","mapStateToProps","withConnect","withStyle"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport Loader from 'react-loader-spinner'\r\nimport CheckBox from '@material-ui/core/Checkbox';\r\nimport DropDown from '../subComponent/DropDown';\r\nimport swal from 'sweetalert';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { compose } from 'redux';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport { getAgentFunction, patchAgentAddFunction } from './saga';\r\nimport { validateEmail, validatePhone } from '../global/globalFunction';\r\nimport { getToken } from '../index/token';\r\nimport { getAllMitraList } from '../mitra/saga';\r\nimport { getPenyediaAgentListFunction } from '../penyediaAgent/saga';\r\nimport { isRoleAccountExecutive, destructAgent, constructAgent } from './function';\r\nimport BrokenLink from './../../support/img/default.png'\r\n\r\nconst styles = (theme) => ({\r\n    container: {\r\n      flexGrow: 1,\r\n    },\r\n    textField: {\r\n      border: '1px solid',\r\n    },\r\n  });\r\n\r\n\r\nclass AgentEdit extends React.Component{\r\n    _isMounted = false;\r\n\r\n    state = {\r\n      diKlik:false,\r\n      errorMessage:'',\r\n      agentId: 0,\r\n      kategori : 'agent',\r\n      kategori_name: '',\r\n      dataAgent: {},\r\n      bank: [],\r\n      instansi: '',\r\n      listBank: [],\r\n      loading: true,\r\n      status: true,\r\n      agentName: '',\r\n      agent_provider_name: '',\r\n      username: '',\r\n      phone:'',\r\n      email:'',\r\n      image:'',\r\n      selectedFile:''\r\n    };\r\n\r\n    componentDidMount(){\r\n      this._isMounted = true;\r\n      this.setState({\r\n        agentId: this.props.match.params.id,\r\n      },() => {\r\n        this.refresh();\r\n      })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this._isMounted = false;\r\n    }\r\n    valueHandler = ()=>{\r\n      return  this.state.selectedFile ? this.state.selectedFile.name :\"Browse Image\"\r\n      \r\n    }\r\n    onChangeHandler = (event)=>{\r\n    //untuk mendapatkan file image\r\n       this.setState({selectedFile:event.target.files[0]})\r\n    }\r\n    refresh = async function() {\r\n      const param = {\r\n        agentId: this.state.agentId\r\n      };\r\n      const data = await getAgentFunction(param, getPenyediaAgentListFunction, getAllMitraList) ;\r\n\r\n      if(data) {\r\n        if(!data.error) {\r\n          const dataAgent = destructAgent(data.dataAgent, false, data.mitraList.data);\r\n\r\n          this.setState({\r\n            listBank: data.mitraList.data,\r\n            status: dataAgent.status,\r\n            agentId: dataAgent.id,\r\n            agentName: dataAgent.name,\r\n            username: dataAgent.username,\r\n            phone: dataAgent.phone && dataAgent.phone.toString().substring(2,dataAgent.phone.length),\r\n            email: dataAgent.email,\r\n            kategori: dataAgent.category,\r\n            kategori_name: dataAgent.category_name,\r\n            agent_provider_name: dataAgent.agent_provider_name,\r\n            bank: dataAgent.banks,\r\n            instansi: dataAgent.instansi,\r\n            image:dataAgent.image,\r\n            loading: false,\r\n          })\r\n        } else {\r\n          this.setState({\r\n            errorMessage: data.error,\r\n            loading: false,\r\n          })\r\n        }      \r\n      }  \r\n    }\r\n\r\n    UNSAFE_componentWillReceiveProps(newProps){\r\n      this.setState({errorMessage:newProps.error})\r\n    }\r\n\r\n    btnSave=()=>{\r\n      if (this.validate()) {\r\n\r\n        const dataAgent = constructAgent(this.state)\r\n        \r\n        const param = {\r\n          agentId: this.state.agentId,\r\n          dataAgent,\r\n        }\r\n        if (this.state.selectedFile){\r\n          const pic = this.state.selectedFile\r\n          const reader = new FileReader();\r\n          reader.readAsDataURL(pic);\r\n          reader.onload =  () => {   \r\n            var arr = reader.result.split(\",\")   \r\n            var image = arr[1].toString()\r\n            param.dataAgent.image = image\r\n            this.setState({loading: true});\r\n            \r\n            this.patchAgent(param)\r\n          };\r\n          reader.onerror = function (error) {\r\n          this.setState({errorMessage:\"Gambar gagal tersimpan\"})\r\n          };\r\n      }else{\r\n        this.setState({loading: true});\r\n        this.patchAgent(param)\r\n      }\r\n\r\n        \r\n      }\r\n    }\r\n\r\n    btnCancel = ()=>{\r\n      this.setState({diKlik:true})\r\n    }\r\n\r\n    onChangeCheck = (e) => {\r\n      this.setState({\r\n        status: !this.state.status,\r\n      });\r\n    };\r\n\r\n    onChangeTextField = (e) => {\r\n      let value = e.target.value;\r\n      let labelName = e.target.id;\r\n      let flag = true;\r\n\r\n      if(labelName !== 'agentName' && (value.includes(' ') || value.includes('\\'') || value.includes('\"') || value.includes(',')) ) {\r\n        flag = false\r\n      }\r\n\r\n      if(labelName === 'phone' && isNaN(value)) {    \r\n        flag = false \r\n      }\r\n      \r\n      if(flag) {\r\n        this.setState({\r\n          [labelName]: value,\r\n        })\r\n      } \r\n    }\r\n\r\n    onChangeDropDownMultiple = (e) => {\r\n      const dataBank = this.state.listBank;\r\n      const lastBank = this.state.bank;\r\n      const newBank = e.target.value[e.target.value.length - 1];\r\n      const newListBank = [];\r\n      let flag = true;\r\n\r\n      for(const key in lastBank) {\r\n        if(lastBank[key].id.toString().toLowerCase() !== newBank.toString().toLowerCase()) {\r\n          newListBank.push(lastBank[key])\r\n        } else {\r\n          flag = false;\r\n        }\r\n      }\r\n\r\n      if(flag) {\r\n        for(const key in dataBank) {\r\n          if(\r\n            dataBank[key].id.toString().toLowerCase() === newBank.toString().toLowerCase() \r\n          ) {\r\n            newListBank.push(dataBank[key])\r\n            break;\r\n          } \r\n        }\r\n      }\r\n\r\n      this.setState({bank : newListBank})\r\n    }\r\n\r\n    patchAgent = async function(param) {\r\n      const data = await patchAgentAddFunction(param);\r\n\r\n      if(data) {\r\n        if(!data.error) {\r\n          swal(\"Success\",\"Agen berhasil di ubah\",\"success\")\r\n          this.setState({\r\n            diKlik: true,\r\n            loading: false,\r\n          })\r\n        } else {\r\n          this.setState({\r\n            errorMessage: data.error,\r\n            loading: false,\r\n          })\r\n        }      \r\n      }\r\n    }\r\n\r\n    handleDelete = (e, value) => {\r\n      const bank = this.state.bank;\r\n      const newBank = [];\r\n\r\n      for(const key in bank) {\r\n        if(bank[key].id.toString().toLowerCase() !== value.toString().toLowerCase()) {\r\n          newBank.push(bank[key])\r\n        }\r\n      }\r\n\r\n      this.setState({bank : newBank})\r\n    }\r\n\r\n    validate = () => {\r\n      let flag = true;\r\n      let errorMessage = '';\r\n\r\n      if (!this.state.username || this.state.username.length === 0) {\r\n        flag = false;\r\n        errorMessage = 'Mohon input username dengan benar'\r\n      } else if (!this.state.agentName || this.state.agentName.trim().length === 0) {\r\n        flag = false;\r\n        errorMessage = 'Mohon input nama agen dengan benar'\r\n      } else if (!this.state.email || this.state.email.length === 0 || !validateEmail(this.state.email) ) {\r\n        flag = false;\r\n        errorMessage = 'Mohon input email dengan benar'\r\n      } else if (!this.state.phone || this.state.phone.length === 0 || !validatePhone(`62${this.state.phone}`)) {\r\n        flag = false;\r\n        errorMessage = 'Mohon input kontak pic dengan benar'\r\n      } else if (!this.state.instansi || this.state.instansi.length === 0) {\r\n        flag = false;\r\n        errorMessage = 'Mohon input instansi dengan benar'\r\n      }else if (!isRoleAccountExecutive(this.state.kategori) && (!this.state.bank || this.state.bank.length === 0)) {\r\n        flag = false;\r\n        errorMessage = 'Mohon input bank dengan benar'\r\n      } else {\r\n        errorMessage = ''\r\n      }\r\n         \r\n      this.setState({\r\n        errorMessage,\r\n      })\r\n\r\n      return flag;\r\n    }\r\n\r\n    render(){\r\n        if(this.state.diKlik){\r\n          return <Redirect to='/agenList'/>            \r\n        } else if (this.state.loading){\r\n          return  (\r\n            <div key=\"zz\">\r\n              <div align=\"center\" colSpan={6}>\r\n                <Loader \r\n                  type=\"Circles\"\r\n                  color=\"#00BFFF\"\r\n                  height=\"40\"\t\r\n                  width=\"40\"\r\n                />   \r\n              </div>\r\n            </div>\r\n          )\r\n        } else if(getToken()){\r\n          return(\r\n              <div className=\"container mt-4\">\r\n                <h3>Agen - Ubah</h3>\r\n                                \r\n                <hr/>\r\n                \r\n                <form>\r\n                  <div className=\"form-group row\">   \r\n                    <div className=\"col-12\" style={{color:\"red\",fontSize:\"15px\",textAlign:'left', marginBottom:'2vh'}}>\r\n                      {this.state.errorMessage}\r\n                    </div>    \r\n                  </div>\r\n\r\n                  <div className=\"form-group row\" style={{marginBottom:40}}>                \r\n                    <label className=\"col-sm-2 col-form-label\" style={{height:3.5}}>\r\n                      Id Agen\r\n                    </label>\r\n                    <label className=\"col-sm-1 col-form-label\" style={{height:3.5}}>\r\n                      :\r\n                    </label>\r\n                    <div className=\"col-sm-4 col-form-label\" style={{height:3.5}}>\r\n                      {this.state.agentId}\r\n                    </div>                 \r\n                  </div>\r\n\r\n                  <div className=\"form-group row\" style={{marginBottom:20}}>                \r\n                    <label className=\"col-sm-2 col-form-label\" style={{height:3.5}}>\r\n                      Nama Agen\r\n                    </label>\r\n                    <label className=\"col-sm-1 col-form-label\" style={{height:3.5}}>\r\n                      :\r\n                    </label>\r\n                    <div className=\"col-sm-4\" >\r\n                      <TextField\r\n                        id=\"agentName\"\r\n                        onChange={this.onChangeTextField}\r\n                        value={this.state.agentName}\r\n                        hiddenLabel\r\n                        fullWidth\r\n                        placeholder=\"Nama Agen\"\r\n                        style={{border:'1px groove', paddingLeft:'5px'}}\r\n                      />\r\n                    </div>                 \r\n                  </div>\r\n\r\n                  <div className=\"form-group row\" style={{marginBottom:40}}>                \r\n                    <label className=\"col-sm-2 col-form-label\" style={{height:3.5}}>\r\n                      Id Pengguna (username)\r\n                    </label>\r\n                    <label className=\"col-sm-1 col-form-label\" style={{height:3.5}}>\r\n                      :\r\n                    </label>\r\n                    <div className=\"col-sm-4 col-form-label\" style={{height:3.5}}>\r\n                      { this.state.username }\r\n                    </div>                 \r\n                  </div>\r\n\r\n                  <div className=\"form-group row\" style={{marginBottom:40}}>                   \r\n                    <label className=\"col-sm-2 col-form-label\" style={{lineHeight:1.5}}>\r\n                      Email\r\n                    </label>\r\n                    <label className=\"col-sm-1 col-form-label\" style={{lineHeight:1.5}}>\r\n                      :\r\n                    </label>\r\n                    <div className=\"col-sm-4\">\r\n                      <TextField\r\n                        id=\"email\"\r\n                        type=\"email\"\r\n                        onChange={this.onChangeTextField}\r\n                        value={this.state.email}\r\n                        hiddenLabel\r\n                        fullWidth\r\n                        placeholder=\"Email\"\r\n                        style={{border:'1px groove', paddingLeft:'5px'}}\r\n                      />\r\n                    </div>                   \r\n                  </div>\r\n\r\n                  <div className=\"form-group row\" style={{marginBottom:20}}>                   \r\n                    <label className=\"col-sm-2 col-form-label\" style={{lineHeight:1.5}}>\r\n                      No HP\r\n                    </label>\r\n                    <label className=\"col-sm-1 col-form-label\" style={{lineHeight:1.5}}>\r\n                      :\r\n                    </label>\r\n                    <div className=\"col-sm-1\" style={{lineHeight:1.5, textAlign:'right', paddingTop:'5px', paddingRight:'0px', paddingLeft:'0px'}}>\r\n                      (+62)\r\n                    </div>\r\n                    <div className=\"col-sm-3\">\r\n                      <TextField\r\n                        id=\"phone\"\r\n                        type=\"tel\"\r\n                        onChange={this.onChangeTextField}\r\n                        value={this.state.phone}\r\n                        hiddenLabel\r\n                        fullWidth\r\n                        placeholder=\"Nomor Handphone\"\r\n                        style={{border:'1px groove', paddingLeft:'5px'}}\r\n                      />\r\n                    </div>                   \r\n                  </div>\r\n\r\n\r\n                  <div className=\"form-group row\" style={{marginBottom:7}}>                   \r\n                    <label className=\"col-sm-2 col-form-label\" style={{lineHeight:1.5}}>\r\n                      Kategori\r\n                    </label>\r\n                    <label className=\"col-sm-1 col-form-label\" style={{lineHeight:1.5}}>\r\n                      :\r\n                    </label>\r\n                    <div className=\"col-sm-4 col-form-label\" style={{height:1.5}}>\r\n                      {this.state.kategori_name}\r\n                    </div>                 \r\n                  </div>\r\n\r\n                  \r\n                  <div className=\"form-group row\" style={{marginBottom:7}}>                   \r\n                    <label className=\"col-sm-2 col-form-label\" style={{lineHeight:3.5}}>\r\n                      Instansi\r\n                    </label>\r\n                    <label className=\"col-sm-1 col-form-label\" style={{lineHeight:3.5}}>\r\n                      :\r\n                    </label>\r\n                    <div className=\"col-sm-4 col-form-label\" style={{lineHeight:3.5}}>\r\n                      { this.state.instansi }\r\n                    </div>                 \r\n                  </div>\r\n                  \r\n   \r\n                  {\r\n                    !isRoleAccountExecutive(this.state.kategori) &&\r\n                    <div className=\"form-group row\" style={{marginBottom:15}}>                   \r\n                      <label className=\"col-sm-2 col-form-label\" style={{lineHeight:3.5}}>\r\n                        Mitra Pelayanan\r\n                      </label>\r\n                      <label className=\"col-sm-1 col-form-label\" style={{lineHeight:3.5}}>\r\n                        :\r\n                      </label>\r\n                      <div className=\"col-sm-4\">\r\n                        <DropDown\r\n                          multiple={true}\r\n                          value={this.state.bank}\r\n                          label=\"Bank\"\r\n                          data={this.state.listBank}\r\n                          id=\"id\"\r\n                          labelName=\"name\"\r\n                          onChange={this.onChangeDropDownMultiple}\r\n                          fullWidth\r\n                        />\r\n                      </div>                 \r\n                    </div>\r\n                  }\r\n                  \r\n                  <div className=\"form-group row\">\r\n                    <label className=\"col-sm-2 col-form-label\" style={{lineHeight:3.5}}>\r\n                      Status\r\n                    </label>\r\n                    <label className=\"col-sm-1 col-form-label\" style={{lineHeight:3.5}}>\r\n                      :\r\n                    </label>\r\n                    <div className=\"col-4\" style={{color:\"black\",fontSize:\"15px\",alignItems:'left', paddingTop: '15px'}}>\r\n                      \r\n                      <FormControlLabel\r\n                        control={\r\n                          <CheckBox       \r\n                            color=\"default\"           \r\n                            onChange={this.onChangeCheck}\r\n                            checked={this.state.status}\r\n                            style={{justifyContent:'left'}}\r\n                          />  \r\n                        }\r\n                        label={this.state.status ? \"Aktif\" : \"Tidak Aktif\"}\r\n                      />\r\n                      \r\n                    </div>           \r\n                  </div>\r\n   \r\n                  <div className=\"form-group row\" style={{marginBottom:40}}>                \r\n                    <label className=\"col-sm-2 col-form-label\" style={{height:3.5}}>\r\n                      Edit Gambar\r\n                    </label>\r\n                    <label className=\"col-sm-1 col-form-label\" style={{height:3.5}}>\r\n                      :\r\n                    </label>\r\n                    <div className=\"col-sm-4\" >\r\n                       <input className=\"btn btn-primary\" type=\"button\" onClick={()=>this.refs.input.click()} value={this.valueHandler()}></input>\r\n                       <input ref=\"input\" style={{display:\"none\"}} type=\"file\" accept=\"image/*\" onChange={this.onChangeHandler}></input> \r\n                    </div>                 \r\n                  </div>\r\n\r\n                  <div className=\"form-group row\">                \r\n                  <label className=\"col-sm-2 col-form-label\" style={{height:3.5}}>\r\n                    Gambar Agen\r\n                  </label>\r\n                  <label className=\"col-sm-1 col-form-label\" style={{height:3.5}}>\r\n                    :\r\n                  </label>\r\n                  <div className=\"col-sm-4 col-form-label\" style={{height:3.5}}>\r\n                  <img src={`${this.state.image}`} width=\"100px\" height=\"100px\" alt=\"Foto agen\" onError={(e)=>{\r\n                  e.target.attributes.getNamedItem(\"src\").value = BrokenLink\r\n                  }} ></img>\r\n                  </div>             \r\n                  </div>\r\n\r\n               \r\n                  \r\n                  <div className=\"form-group row\">\r\n                      <div className=\"col-sm-12 ml-3 mt-3\">\r\n                        <input type=\"button\" value=\"Ubah\" className=\"btn btn-success\" onClick={this.btnSave} />\r\n                        <input type=\"button\" value=\"Batal\" className=\"btn ml-2\" onClick={this.btnCancel} style={{backgroundColor:\"grey\",color:\"white\"}}/>\r\n                      </div>\r\n                  </div>\r\n                  \r\n                </form>\r\n              \r\n              </div>\r\n          )\r\n        } else if(getToken()){\r\n          return (\r\n              <Redirect to='/login' />\r\n          )    \r\n        }\r\n       \r\n    }\r\n}\r\n\r\nexport function mapDispatchToProps(dispatch) {\r\n    return {\r\n    //   getSourceTransaction: () => {\r\n    //     dispatch(sourceTransactionRequest());\r\n    //   handleRedirect: (route) => {\r\n    //     dispatch(push(route));\r\n    //   },\r\n    };\r\n}\r\n  \r\nexport const mapStateToProps = createStructuredSelector({\r\n  // user: getUserState(),\r\n});\r\n\r\nconst withConnect = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n);\r\n\r\nconst withStyle = withStyles(styles);\r\n\r\nexport default compose(\r\n    withConnect,\r\n    withStyle,\r\n    withRouter\r\n  )(AgentEdit);"]},"metadata":{},"sourceType":"module"}