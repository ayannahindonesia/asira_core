{"ast":null,"code":"import { getToken } from \"../index/token\";\nimport { serverUrl } from '../url';\nimport axios from 'axios';\nimport { destructErrorMessage } from \"../global/globalFunction\";\nexport async function getAllPermintaanPinjamanFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + getToken()\n      }\n    };\n    let filter = '';\n\n    for (const key in param) {\n      filter += `&${[key]}=${param[key]}`;\n    }\n\n    axios.get(serverUrl + `admin/loan?orderby=updated_at&sort=desc${filter}`, config).then(res => {\n      param.pinjamanList = res.data;\n\n      if (next) {\n        resolve(next(param));\n      } else {\n        resolve(param);\n      }\n    }).catch(err => {\n      const error = err.response && err.response.data && destructErrorMessage(err.response.data) || err.toString();\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function getDetailFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + getToken()\n      }\n    };\n    axios.get(serverUrl + `admin/loan/${param.id}`, config).then(res => {\n      if (next) {\n        resolve(next(param));\n      } else {\n        resolve(res);\n      }\n    }).catch(err => {\n      const error = err.response && err.response.data && destructErrorMessage(err.response.data) || err.toString();\n      param.error = error;\n      resolve(param);\n    });\n  });\n}\nexport async function getDetailBorrowerFunction(param, next) {\n  return new Promise(async resolve => {\n    const config = {\n      headers: {\n        'Authorization': \"Bearer \" + getToken()\n      }\n    };\n    axios.get(serverUrl + `admin/borrower/${param.id}`, config).then(res => {\n      if (next) {\n        resolve(next(param));\n      } else {\n        resolve(res);\n      }\n    }).catch(err => {\n      const error = err.response && err.response.data && destructErrorMessage(err.response.data) || err.toString();\n      param.error = error;\n      resolve(param);\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/permintaanPinjaman/saga.js"],"names":["getToken","serverUrl","axios","destructErrorMessage","getAllPermintaanPinjamanFunction","param","next","Promise","resolve","config","headers","filter","key","get","then","res","pinjamanList","data","catch","err","error","response","toString","getDetailFunction","id","getDetailBorrowerFunction"],"mappings":"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","sourcesContent":["import { getToken } from \"../index/token\";\r\nimport { serverUrl } from '../url';\r\nimport axios from 'axios'\r\nimport { destructErrorMessage } from \"../global/globalFunction\";\r\n\r\nexport async function getAllPermintaanPinjamanFunction(param,next){\r\n    return new Promise (async (resolve)=>{\r\n        const config = {headers: {'Authorization': \"Bearer \" + getToken() }};\r\n        let filter =''\r\n        \r\n        for (const key in param){\r\n            filter += `&${[key]}=${param[key]}`\r\n        }\r\n\r\n        axios.get(serverUrl+`admin/loan?orderby=updated_at&sort=desc${filter}`,config)\r\n        .then((res)=>{\r\n            param.pinjamanList = res.data\r\n            if(next){\r\n                resolve(next(param))\r\n            }else{\r\n                resolve(param)\r\n            }\r\n        })\r\n        .catch((err)=>{\r\n            const error = (err.response && err.response.data && destructErrorMessage(err.response.data))|| err.toString()\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n\r\n}\r\n\r\n\r\nexport async function getDetailFunction(param,next){\r\n    return new Promise (async (resolve)=>{\r\n        const config = {headers: {'Authorization': \"Bearer \" + getToken() }};\r\n\r\n        axios.get(serverUrl+`admin/loan/${param.id}`,config)\r\n        .then((res)=>{\r\n            if(next){\r\n                resolve(next(param))\r\n            }else{\r\n                resolve(res)\r\n            }\r\n        })\r\n        .catch((err)=>{\r\n            const error = (err.response && err.response.data && destructErrorMessage(err.response.data))|| err.toString()\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n\r\n}\r\n\r\nexport async function getDetailBorrowerFunction(param,next){\r\n    return new Promise (async (resolve)=>{\r\n        const config = {headers: {'Authorization': \"Bearer \" + getToken() }};\r\n\r\n        axios.get(serverUrl+`admin/borrower/${param.id}`,config)\r\n        .then((res)=>{\r\n            if(next){\r\n                resolve(next(param))\r\n            }else{\r\n                resolve(res)\r\n            }\r\n        })\r\n        .catch((err)=>{\r\n            const error = (err.response && err.response.data && destructErrorMessage(err.response.data))|| err.toString()\r\n            param.error = error;\r\n            resolve(param);\r\n        })\r\n    })\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}