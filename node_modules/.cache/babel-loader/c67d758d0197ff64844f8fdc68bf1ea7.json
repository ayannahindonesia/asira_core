{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_core\\\\src\\\\components\\\\layanan\\\\layananList.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { checkPermission } from '../global/globalFunction';\nimport { getAllLayananListFunction } from './saga';\nimport { getToken } from '../index/token';\nimport TableComponent from './../subComponent/TableComponent';\nconst columnDataUser = [{\n  id: 'id',\n  numeric: false,\n  label: 'ID Layanan'\n}, {\n  id: 'name',\n  numeric: false,\n  label: 'Nama Layanan'\n}, {\n  id: 'status',\n  numeric: false,\n  label: 'Status Layanan'\n}];\n\nclass LayananList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this._isMounted = false;\n    this.state = {\n      loading: true,\n      paging: true,\n      rows: [],\n      total_data: 10,\n      page: 1,\n      from: 1,\n      to: 3,\n      last_page: 1,\n      rowsPerPage: 10,\n      dataPerhalaman: 5\n    };\n\n    this.getAllList = async function () {\n      const param = {\n        page: this.state.page,\n        rows: 10\n      };\n      const data = await getAllLayananListFunction(param);\n      const listLayanan = data.listLayanan && data.listLayanan.data;\n\n      for (const key in listLayanan) {\n        listLayanan[key].status = listLayanan[key].status && listLayanan[key].status === 'active' ? \"Aktif\" : \"Tidak Aktif\";\n      }\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            loading: false,\n            rows: data.listLayanan.data,\n            total_data: data.listLayanan.total_data,\n            page: data.listLayanan.current_page,\n            from: data.listLayanan.from,\n            to: data.listLayanan.to,\n            last_page: data.listLayanan.last_page,\n            dataPerhalaman: data.listLayanan.rows\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error,\n            loading: false\n          });\n        }\n      }\n    };\n\n    this.onChangePage = current => {\n      this.setState({\n        loading: true,\n        page: current\n      }, () => {\n        if (this.state.paging) {\n          this.getAllList();\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.getAllList();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    if (getToken()) {\n      return React.createElement(\"div\", {\n        style: {\n          padding: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(TableComponent, {\n        id: \"id\",\n        paging: this.state.paging,\n        title: 'Layanan - List',\n        loading: this.state.loading,\n        columnData: columnDataUser,\n        data: this.state.rows,\n        page: this.state.page,\n        rowsPerPage: this.state.dataPerhalaman,\n        totalData: this.state.total_data,\n        onChangePage: this.onChangePage,\n        permissionAdd: checkPermission('core_bank_new') ? '/layananadd' : null,\n        permissionDetail: checkPermission('core_service_detail') ? '/layanandetail/' : null,\n        permissionEdit: checkPermission('core_service_patch') ? '/layananedit/' : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }));\n    }\n\n    if (!getToken()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default LayananList;","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/layanan/layananList.js"],"names":["React","Redirect","checkPermission","getAllLayananListFunction","getToken","TableComponent","columnDataUser","id","numeric","label","LayananList","Component","_isMounted","state","loading","paging","rows","total_data","page","from","to","last_page","rowsPerPage","dataPerhalaman","getAllList","param","data","listLayanan","key","status","error","setState","current_page","errorMessage","onChangePage","current","componentDidMount","componentWillUnmount","render","padding"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { checkPermission } from '../global/globalFunction';\r\nimport { getAllLayananListFunction } from './saga';\r\nimport { getToken } from '../index/token';\r\nimport TableComponent from './../subComponent/TableComponent'\r\n\r\nconst columnDataUser = [\r\n    {\r\n        id: 'id',\r\n        numeric: false,\r\n        label: 'ID Layanan',\r\n    },\r\n    {\r\n        id: 'name',\r\n        numeric: false,\r\n        label: 'Nama Layanan',\r\n    },\r\n    {\r\n        id: 'status',\r\n        numeric: false,\r\n        label: 'Status Layanan',\r\n    }\r\n  ]\r\nclass LayananList extends React.Component{\r\n    _isMounted = false;\r\n    \r\n    state={\r\n        loading:true,paging:true,\r\n        rows:[],total_data:10,page:1,from:1,to:3,last_page:1,rowsPerPage:10,dataPerhalaman:5,\r\n    }\r\n    componentDidMount (){\r\n        this._isMounted=true\r\n        this.getAllList()\r\n    }\r\n    componentWillUnmount(){\r\n        this._isMounted=false\r\n    }\r\n    \r\n    getAllList = async function (){\r\n        const param={\r\n            page: this.state.page,\r\n            rows:10\r\n        }\r\n        const data = await getAllLayananListFunction(param)\r\n        const listLayanan = data.listLayanan &&data.listLayanan.data\r\n\r\n        for (const key in listLayanan){\r\n            listLayanan[key].status =  listLayanan[key].status&&  listLayanan[key].status === 'active'?\"Aktif\":\"Tidak Aktif\"\r\n        }\r\n\r\n        if(data){\r\n            if(!data.error){\r\n                this.setState({loading:false,rows:data.listLayanan.data,\r\n                    total_data:data.listLayanan.total_data,\r\n                    page:data.listLayanan.current_page,\r\n                    from:data.listLayanan.from,\r\n                    to:data.listLayanan.to,\r\n                    last_page:data.listLayanan.last_page,\r\n                    dataPerhalaman:data.listLayanan.rows,\r\n                })\r\n            }else{\r\n                this.setState({errorMessage:data.error,loading:false})\r\n            }\r\n        }\r\n    }\r\n\r\n    onChangePage = (current) => {\r\n        this.setState({loading:true, page : current}, () => {\r\n          if(this.state.paging){\r\n            this.getAllList()\r\n          }\r\n        })\r\n    }\r\n\r\n    render(){\r\n        if(getToken()){\r\n            return(\r\n                <div style={{padding:0}}>\r\n                   < TableComponent\r\n                        id={\"id\"}\r\n                        paging={this.state.paging}\r\n                        title={'Layanan - List'}\r\n                        loading={this.state.loading}\r\n                        columnData={columnDataUser}\r\n                        data={this.state.rows}\r\n                        page={this.state.page}\r\n                        rowsPerPage={this.state.dataPerhalaman}\r\n                        totalData={this.state.total_data}\r\n                        onChangePage={this.onChangePage}     \r\n                        permissionAdd={ checkPermission('core_bank_new') ? '/layananadd' : null }           \r\n                        permissionDetail={ checkPermission('core_service_detail') ? '/layanandetail/' : null}\r\n                        permissionEdit={ checkPermission('core_service_patch') ? '/layananedit/' : null}\r\n\r\n                    /> \r\n                </div>\r\n            )\r\n        }\r\n        if(!getToken()){\r\n            return (\r\n                <Redirect to='/login' />\r\n            )    \r\n        }\r\n       \r\n    }\r\n}\r\n\r\nexport default LayananList;"]},"metadata":{},"sourceType":"module"}