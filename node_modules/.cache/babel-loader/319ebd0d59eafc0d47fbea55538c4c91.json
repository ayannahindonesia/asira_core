{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_core\\\\src\\\\components\\\\penyediaAgent\\\\penyediaEdit.js\";\nimport React from 'react';\nimport swal from 'sweetalert';\nimport PhoneInput from 'react-phone-number-input';\nimport { Redirect } from 'react-router-dom';\nimport { getToken } from '../index/token';\nimport './../../support/css/penyediaAgent.css';\nimport { getPenyediaAgentDetailFunction, editPenyediaAgentFunction } from './saga';\nimport Loader from 'react-loader-spinner';\n\nclass PenyediaEdit extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      diKlik: false,\n      phone: '',\n      submit: false,\n      check: false,\n      rows: [],\n      loading: true\n    };\n    this._isMounted = false;\n\n    this.getDetailAgent = async function () {\n      const id = this.props.match.params.id;\n      const data = await getPenyediaAgentDetailFunction({\n        id\n      });\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            rows: data.dataAgentDetail,\n            check: data.dataAgentDetail.status === \"active\" ? true : false,\n            loading: false\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error,\n            loading: false\n          });\n        }\n      }\n    };\n\n    this.handleChecked = e => {\n      this.setState({\n        check: !this.state.check\n      });\n    };\n\n    this.renderBtnSumbit = () => {\n      if (this.state.submit) {\n        return React.createElement(\"input\", {\n          type: \"button\",\n          disabled: true,\n          className: \"btn btn-primary\",\n          value: \"Ubah\",\n          onClick: this.btnEditAgen,\n          style: {\n            cursor: \"wait\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"input\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          value: \"Ubah\",\n          onClick: this.btnEditAgen,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.btnCancel = () => {\n      this.setState({\n        diKlik: true\n      });\n    };\n\n    this.btnEditAgen = () => {\n      let status = this.state.check ? \"active\" : \"inactive\";\n      let address = this.refs.alamat.value ? this.refs.alamat.value : this.refs.alamat.placeholder;\n      let pic = this.refs.pic.value ? this.refs.pic.value : this.refs.pic.placeholder;\n      let phone = this.state.phone ? String(this.state.phone) : String(this.state.rows.phone);\n\n      if (pic.trim().length === 0) {\n        this.setState({\n          errorMessage: \"Nama PIC Kosong - Harap cek kembali\"\n        });\n      } else if (address.trim().length === 0) {\n        this.setState({\n          errorMessage: \"Alamat Kosong - Harap cek kembali\"\n        });\n      } else {\n        this.setState({\n          submit: true\n        });\n        const param = {\n          id: this.props.match.params.id,\n          newData: {\n            pic,\n            phone,\n            status,\n            address\n          }\n        };\n        this.editPenyediaAgent(param);\n      }\n    };\n\n    this.editPenyediaAgent = async function (params) {\n      const data = await editPenyediaAgentFunction(params);\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            diKlik: true\n          });\n          swal(\"Berhasil\", \"Penyedia Agent Berhasil di ubah\", \"success\");\n        } else {\n          this.setState({\n            submit: false\n          });\n          swal(\"Tidak Berhasil\", `Nomor Telp sudah terdaftar atau ada masalah di server\\nSilahkan dicoba kembali`, \"error\");\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getDetailAgent();\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    if (this.state.loading) {\n      return React.createElement(\"div\", {\n        className: \"mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        type: \"ThreeDots\",\n        color: \"#00BFFF\",\n        height: \"30\",\n        width: \"30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }));\n    }\n\n    if (this.state.diKlik) {\n      return React.createElement(Redirect, {\n        to: \"/penyediaList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      });\n    }\n\n    if (getToken()) {\n      return React.createElement(\"div\", {\n        className: \"container mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Penyedia Agen - Edit\"), this.state.errorMessage, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12\",\n        style: {\n          color: \"red\",\n          fontSize: \"15px\",\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, this.state.errorMessage)), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Id Penyedia Agen\"), React.createElement(\"div\", {\n        className: \"col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        disabled: true,\n        required: true,\n        className: \"form-control\",\n        placeholder: this.state.rows.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Nama Penyedia Agen\"), React.createElement(\"div\", {\n        className: \"col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        disabled: true,\n        required: true,\n        className: \"form-control\",\n        placeholder: this.state.rows.name,\n        ref: \"namaAgent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"PIC\"), React.createElement(\"div\", {\n        className: \"col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        ref: \"pic\",\n        placeholder: this.state.rows.pic,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Nomor Telepon\"), React.createElement(\"div\", {\n        className: \"col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(PhoneInput, {\n        country: \"ID\",\n        placeholder: this.state.rows.phone,\n        value: this.state.phone,\n        onChange: phone => this.setState({\n          phone\n        }),\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Alamat\"), React.createElement(\"div\", {\n        className: \"col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        rows: \"5\",\n        ref: \"alamat\",\n        className: \"form-control\",\n        placeholder: this.state.rows.address,\n        required: true,\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Status\"), React.createElement(\"div\", {\n        className: \"col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-check-input\",\n        id: \"checkbox\",\n        type: \"checkbox\",\n        onChange: this.handleChecked,\n        checked: this.state.check,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        style: {\n          position: \"relative\",\n          left: \"18%\",\n          paddingTop: \"3px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, this.state.check ? 'Aktif' : 'Tidak Aktif'))), this.renderBtnSumbit(), React.createElement(\"input\", {\n        type: \"button\",\n        className: \"btn btn-secondary ml-2\",\n        value: \"Batal\",\n        onClick: this.btnCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      })));\n    }\n\n    if (!getToken()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default PenyediaEdit;","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/penyediaAgent/penyediaEdit.js"],"names":["React","swal","PhoneInput","Redirect","getToken","getPenyediaAgentDetailFunction","editPenyediaAgentFunction","Loader","PenyediaEdit","Component","state","diKlik","phone","submit","check","rows","loading","_isMounted","getDetailAgent","id","props","match","params","data","error","setState","dataAgentDetail","status","errorMessage","handleChecked","e","renderBtnSumbit","btnEditAgen","cursor","btnCancel","address","refs","alamat","value","placeholder","pic","String","trim","length","param","newData","editPenyediaAgent","componentDidMount","componentWillUnmount","render","color","fontSize","textAlign","name","position","left","paddingTop"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport swal from 'sweetalert'\r\nimport PhoneInput from 'react-phone-number-input'\r\nimport { Redirect  } from 'react-router-dom'\r\nimport { getToken } from '../index/token';\r\nimport './../../support/css/penyediaAgent.css'\r\nimport { getPenyediaAgentDetailFunction, editPenyediaAgentFunction } from './saga';\r\nimport Loader from 'react-loader-spinner'\r\n\r\nclass PenyediaEdit extends React.Component{\r\n    state = {\r\n        diKlik:false,\r\n        phone:'',\r\n        submit:false,\r\n        check:false,\r\n        rows:[],\r\n        loading:true\r\n    };\r\n\r\n    _isMounted = false;\r\n\r\n    componentDidMount(){\r\n        this.getDetailAgent()\r\n        this._isMounted = true;\r\n    }\r\n    getDetailAgent = async function () {\r\n        const id =this.props.match.params.id\r\n\r\n        const data = await getPenyediaAgentDetailFunction({id})\r\n\r\n        if(data){\r\n            if(!data.error){\r\n                this.setState({\r\n                    rows:data.dataAgentDetail,\r\n                    check:data.dataAgentDetail.status ===\"active\"?true:false,\r\n                    loading:false\r\n                })\r\n            }else{\r\n                this.setState({errorMessage:data.error,loading:false})\r\n            }\r\n\r\n        }\r\n        \r\n    }\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n    \r\n    handleChecked=(e)=>{\r\n        this.setState({check:!this.state.check})\r\n    }\r\n\r\n\r\n    renderBtnSumbit =()=>{\r\n        if( this.state.submit) {\r\n        return <input type=\"button\" disabled className=\"btn btn-primary\" value=\"Ubah\" onClick={this.btnEditAgen} style={{cursor:\"wait\"}}/>\r\n        }else{\r\n        return <input type=\"button\" className=\"btn btn-primary\" value=\"Ubah\" onClick={this.btnEditAgen}/>\r\n        }\r\n    }\r\n\r\n    btnCancel = ()=>{\r\n        this.setState({diKlik:true})\r\n    }\r\n\r\n    btnEditAgen =()=>{\r\n        let status = this.state.check ? \"active\": \"inactive\"\r\n        let address = this.refs.alamat.value ? this.refs.alamat.value : this.refs.alamat.placeholder\r\n        let pic = this.refs.pic.value ? this.refs.pic.value :this.refs.pic.placeholder\r\n        let phone = this.state.phone ? String(this.state.phone):String(this.state.rows.phone)\r\n\r\n        if(pic.trim().length ===0){\r\n            this.setState({errorMessage:\"Nama PIC Kosong - Harap cek kembali\"})\r\n        }else if(address.trim().length ===0){\r\n            this.setState({errorMessage:\"Alamat Kosong - Harap cek kembali\"})\r\n        }else{\r\n            this.setState({submit:true})\r\n            const param ={\r\n                id :this.props.match.params.id,\r\n                newData:{\r\n                    pic,phone,status,address\r\n                }\r\n            }\r\n\r\n            this.editPenyediaAgent(param)\r\n           \r\n        }\r\n    }\r\n\r\n    editPenyediaAgent = async function (params) {\r\n        const data = await editPenyediaAgentFunction(params)\r\n        if(data){\r\n            if(!data.error){\r\n                this.setState({diKlik:true})\r\n                swal(\"Berhasil\",\"Penyedia Agent Berhasil di ubah\",\"success\")\r\n            }else{\r\n                this.setState({submit:false})\r\n                swal(\"Tidak Berhasil\",`Nomor Telp sudah terdaftar atau ada masalah di server\\nSilahkan dicoba kembali`,\"error\")\r\n\r\n            }\r\n        }\r\n    }\r\n    render(){\r\n        if(this.state.loading){\r\n          \r\n            return (\r\n                <div className=\"mt-2\">\r\n                 <Loader \r\n                    type=\"ThreeDots\"\r\n                    color=\"#00BFFF\"\r\n                    height=\"30\"\t\r\n                    width=\"30\"\r\n                />  \r\n                </div>\r\n            )\r\n        \r\n    }\r\n        if(this.state.diKlik){\r\n            return <Redirect to='/penyediaList'/>            \r\n        }\r\n        if(getToken()){\r\n            return(\r\n                <div className=\"container mt-2\">\r\n                     <h3>Penyedia Agen - Edit</h3>\r\n                        {this.state.errorMessage}\r\n                     <hr/>\r\n                     <div className=\"form-group row\">\r\n                            <div className=\"col-12\" style={{color:\"red\",fontSize:\"15px\",textAlign:'center'}}>\r\n                                {this.state.errorMessage}\r\n                            </div>\r\n                     </div>\r\n                    <form>\r\n                        <div className=\"form-group row\">\r\n                                <label className=\"col-sm-3 col-form-label\">Id Penyedia Agen</label>\r\n                                <div className=\"col-sm-9\">\r\n                                    <input type=\"text\" disabled required className=\"form-control\" placeholder={this.state.rows.id} />\r\n                                </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-3 col-form-label\">Nama Penyedia Agen</label>\r\n                            <div className=\"col-sm-9\">\r\n                                <input type=\"text\" disabled required className=\"form-control\"  placeholder={this.state.rows.name} ref=\"namaAgent\"  />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-3 col-form-label\">PIC</label>\r\n                            <div className=\"col-sm-9\">\r\n                            <input type=\"text\" className=\"form-control\" ref=\"pic\" placeholder={this.state.rows.pic} />                            \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-3 col-form-label\">Nomor Telepon</label>\r\n                            <div className=\"col-sm-9\">\r\n                            <PhoneInput\r\n                            country=\"ID\"\r\n                            placeholder={this.state.rows.phone}\r\n                            value={ this.state.phone }\r\n                            onChange={ phone => this.setState({ phone }) } className=\"form-control\" />                                                  \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-3 col-form-label\">Alamat</label>\r\n                            <div className=\"col-sm-9\">\r\n                            <textarea rows=\"5\" ref=\"alamat\" className=\"form-control\"  placeholder={this.state.rows.address} required autoFocus/>\r\n                            \r\n                            </div>\r\n                        </div>\r\n                      \r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-3 col-form-label\">Status</label>\r\n                            <div className=\"col-sm-9\">\r\n                            <input className=\"form-check-input\" id=\"checkbox\" type=\"checkbox\" onChange={this.handleChecked} checked={this.state.check} /> \r\n                            <label style={{position:\"relative\",left:\"18%\",paddingTop:\"3px\"}}>{this.state.check ? 'Aktif' : 'Tidak Aktif'}</label>           \r\n                            </div>\r\n                        </div>\r\n                    \r\n                        {this.renderBtnSumbit()}\r\n                        <input type=\"button\" className=\"btn btn-secondary ml-2\" value=\"Batal\" onClick={this.btnCancel}/>\r\n                        \r\n                    </form>\r\n                    \r\n                   \r\n                </div>\r\n            )\r\n        }\r\n        if(!getToken()){\r\n            return (\r\n                <Redirect to='/login' />\r\n            )    \r\n        }\r\n       \r\n    }\r\n}\r\n\r\nexport default PenyediaEdit;"]},"metadata":{},"sourceType":"module"}