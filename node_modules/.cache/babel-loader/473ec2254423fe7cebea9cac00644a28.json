{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_core\\\\src\\\\components\\\\user\\\\userDetail.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loader from 'react-loader-spinner';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { withStyles } from '@material-ui/styles';\nimport { compose } from 'redux';\nimport { getUserFunction } from './saga';\nimport { getAllRoleFunction } from '../rolePermission/saga';\nimport { getToken } from '../index/token';\n\nconst styles = theme => ({\n  container: {\n    flexGrow: 1\n  }\n});\n\nclass UserDetail extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this._isMounted = false;\n    this.state = {\n      diKlik: false,\n      errorMessage: '',\n      dataUser: {},\n      userId: 0,\n      disabled: true,\n      loading: true\n    };\n\n    this.refresh = async function () {\n      const param = {};\n      param.userId = this.state.userId;\n      const data = await getUserFunction(param, getAllRoleFunction);\n\n      if (data) {\n        if (!data.error) {\n          const dataUser = data.dataUser || {};\n          dataUser.role = this.findRole(dataUser && dataUser.roles || [], data.dataRole || []);\n          this.setState({\n            dataUser,\n            listRole: data.dataRole,\n            loading: false\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error,\n            disabled: true,\n            loading: false\n          });\n        }\n      }\n    };\n\n    this.findRole = (roleUser, dataRole) => {\n      let role = '';\n\n      for (const keyRole in roleUser) {\n        for (const key in dataRole) {\n          if (dataRole[key].id === roleUser[keyRole]) {\n            if (role.trim().length !== 0) {\n              role += ', ';\n            }\n\n            role += `${dataRole[key].name} (${dataRole[key].system})`;\n          }\n        }\n      }\n\n      return role;\n    };\n\n    this.btnCancel = () => {\n      this.setState({\n        diKlik: true\n      });\n    };\n\n    this.isRoleBank = role => {\n      let flag = false;\n      const dataRole = this.state.listRole;\n\n      if (role && role !== 0) {\n        for (const key in dataRole) {\n          if (dataRole[key].id.toString() === role.toString() && dataRole[key].system.toString().toLowerCase().includes('dashboard')) {\n            flag = true;\n            break;\n          }\n        }\n      }\n\n      return flag;\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.setState({\n      userId: this.props.match.params.id\n    }, () => {\n      this.refresh();\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      errorMessage: newProps.error\n    });\n  }\n\n  render() {\n    if (this.state.diKlik) {\n      return React.createElement(Redirect, {\n        to: \"/listUser\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      });\n    } else if (this.state.loading) {\n      return React.createElement(\"div\", {\n        key: \"zz\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        align: \"center\",\n        colSpan: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        type: \"Circles\",\n        color: \"#00BFFF\",\n        height: \"40\",\n        width: \"40\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })));\n    } else if (getToken()) {\n      return React.createElement(\"div\", {\n        className: \"container mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Akun - Detail\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12\",\n        style: {\n          color: \"red\",\n          fontSize: \"15px\",\n          textAlign: 'left'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, this.state.errorMessage)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Id Akun\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \":\"), React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, this.state.dataUser && this.state.dataUser.id)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \":\"), React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.state.dataUser && this.state.dataUser.username)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \":\"), React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"********\")), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Role\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \":\"), React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, this.state.dataUser && this.state.dataUser.role)), this.isRoleBank(this.state.dataUser && this.state.dataUser.roles && this.state.dataUser.roles[0]) && React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Bank\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \":\"), React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, this.state.dataUser && this.state.dataUser.bank_name)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \":\"), React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, this.state.dataUser && this.state.dataUser.email)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Kontak PIC\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \":\"), React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, this.state.dataUser && this.state.dataUser.phone)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, \"Status\"), React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, \":\"), React.createElement(\"label\", {\n        className: \"col-sm-4 col-form-label\",\n        style: {\n          lineHeight: 3.5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, this.state.dataUser && this.state.dataUser.status && this.state.dataUser.status === 'active' ? 'Aktif' : 'Tidak Aktif')), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"button\",\n        value: \"Kembali\",\n        className: \"btn\",\n        onClick: this.btnCancel,\n        style: {\n          backgroundColor: \"grey\",\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      })))));\n    } else if (!getToken()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport function mapDispatchToProps(dispatch) {\n  return {//   getSourceTransaction: () => {\n    //     dispatch(sourceTransactionRequest());\n    //   },\n    //   handleRedirect: (route) => {\n    //     dispatch(push(route));\n    //   },\n  };\n}\nexport const mapStateToProps = createStructuredSelector({// user: getUserState(),\n  // menu: getMenu(),\n  // fetching: getFetchStatus(),\n});\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nconst withStyle = withStyles(styles);\nexport default compose(withConnect, withStyle, withRouter)(UserDetail);","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/user/userDetail.js"],"names":["React","Redirect","Loader","createStructuredSelector","connect","withRouter","withStyles","compose","getUserFunction","getAllRoleFunction","getToken","styles","theme","container","flexGrow","UserDetail","Component","_isMounted","state","diKlik","errorMessage","dataUser","userId","disabled","loading","refresh","param","data","error","role","findRole","roles","dataRole","setState","listRole","roleUser","keyRole","key","id","trim","length","name","system","btnCancel","isRoleBank","flag","toString","toLowerCase","includes","componentDidMount","props","match","params","componentWillUnmount","componentWillReceiveProps","newProps","render","color","fontSize","textAlign","lineHeight","username","bank_name","email","phone","status","backgroundColor","mapDispatchToProps","dispatch","mapStateToProps","withConnect","withStyle"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport Loader from 'react-loader-spinner'\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport { compose } from 'redux';\r\nimport { getUserFunction } from './saga'\r\nimport { getAllRoleFunction } from '../rolePermission/saga';\r\nimport { getToken } from '../index/token';\r\n\r\nconst styles = (theme) => ({\r\n    container: {\r\n      flexGrow: 1,\r\n    },\r\n  });\r\n\r\nclass UserDetail extends React.Component{\r\n    _isMounted = false;\r\n\r\n    state = {\r\n      diKlik:false,\r\n      errorMessage:'',\r\n      dataUser: {},\r\n      userId: 0,\r\n      disabled: true,\r\n      loading: true,\r\n    };\r\n\r\n    componentDidMount(){\r\n      this._isMounted = true;\r\n\r\n      this.setState({\r\n        userId: this.props.match.params.id,\r\n      },() => {\r\n        this.refresh();\r\n      })\r\n      \r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this._isMounted = false;\r\n    }\r\n\r\n    refresh = async function(){\r\n      const param = {};\r\n      param.userId = this.state.userId;\r\n\r\n      const data = await getUserFunction(param, getAllRoleFunction);\r\n      \r\n\r\n      if(data) {\r\n          if(!data.error) {\r\n            const dataUser = data.dataUser || {};\r\n            \r\n            dataUser.role = this.findRole((dataUser && dataUser.roles) || [], data.dataRole || [])\r\n\r\n            this.setState({\r\n              dataUser,\r\n              listRole: data.dataRole,\r\n              loading: false,\r\n            })\r\n          } else {\r\n            this.setState({\r\n              errorMessage: data.error,\r\n              disabled: true,\r\n              loading: false,\r\n            })\r\n          }      \r\n      }\r\n    }\r\n\r\n    findRole = (roleUser, dataRole) => {\r\n      let role = '';\r\n      for(const keyRole in roleUser) {\r\n          for(const key in dataRole) {\r\n              if(dataRole[key].id === roleUser[keyRole]) {\r\n                  if(role.trim().length !== 0) {\r\n                      role += ', ';\r\n                  }\r\n                  role += `${dataRole[key].name} (${dataRole[key].system})`;\r\n              }\r\n          }\r\n      }\r\n      \r\n      return role;\r\n    }\r\n\r\n    btnCancel = ()=>{\r\n      this.setState({diKlik:true})\r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n      this.setState({errorMessage:newProps.error})\r\n    }\r\n\r\n    isRoleBank = (role) => {\r\n      let flag = false;\r\n      const dataRole = this.state.listRole;\r\n      \r\n      if(role && role !== 0) {\r\n        for(const key in dataRole) {\r\n          if(dataRole[key].id.toString() === role.toString() && dataRole[key].system.toString().toLowerCase().includes('dashboard')) {\r\n            flag = true;\r\n            break;\r\n          }\r\n        }\r\n        \r\n      } \r\n\r\n      return flag;\r\n    }\r\n\r\n    render(){\r\n        if(this.state.diKlik){\r\n            return <Redirect to='/listUser'/>            \r\n        } else if (this.state.loading){\r\n          return  (\r\n            <div  key=\"zz\">\r\n              <div align=\"center\" colSpan={6}>\r\n                <Loader \r\n                  type=\"Circles\"\r\n                  color=\"#00BFFF\"\r\n                  height=\"40\"\t\r\n                  width=\"40\"\r\n                />   \r\n              </div>\r\n            </div>\r\n          )\r\n        } else if(getToken()){\r\n            return(\r\n              <div className=\"container mt-4\">\r\n                 <h3>Akun - Detail</h3>\r\n                 \r\n                 <hr/>\r\n                 \r\n                 <form>\r\n                    <div className=\"form-group row\"> \r\n                      <div className=\"col-12\" style={{color:\"red\",fontSize:\"15px\",textAlign:'left'}}>\r\n                        {this.state.errorMessage}\r\n                      </div>     \r\n                    </div>\r\n\r\n                    <div className=\"form-group row\">                   \r\n                      <label className=\"col-sm-2 col-form-label\" style={{lineHeight:3.5}}>\r\n                        Id Akun\r\n                      </label>\r\n                      <label className=\"col-sm-1 col-form-label\" style={{lineHeight:3.5}}>\r\n                        :\r\n                      </label>\r\n                      <label className=\"col-sm-4 col-form-label\" style={{lineHeight:3.5}}>\r\n                        {this.state.dataUser && this.state.dataUser.id}\r\n                      </label>               \r\n                    </div>\r\n\r\n                    <div className=\"form-group row\">                   \r\n                      <label className=\"col-sm-2 col-form-label\" style={{lineHeight:3.5}}>\r\n                        Username\r\n                      </label>\r\n                      <label className=\"col-sm-1 col-form-label\" style={{lineHeight:3.5}}>\r\n                        :\r\n                      </label>\r\n                      <label className=\"col-sm-4 col-form-label\" style={{lineHeight:3.5}}>\r\n                        {this.state.dataUser && this.state.dataUser.username}\r\n                      </label>               \r\n                    </div>\r\n\r\n                    <div className=\"form-group row\">                   \r\n                      <label className=\"col-sm-2 col-form-label\" style={{lineHeight:3.5}}>\r\n                        Password\r\n                      </label>\r\n                      <label className=\"col-sm-1 col-form-label\" style={{lineHeight:3.5}}>\r\n                        :\r\n                      </label>\r\n                      <label className=\"col-sm-4 col-form-label\" style={{lineHeight:3.5}}>\r\n                        ********\r\n                      </label>               \r\n                    </div>\r\n\r\n                    <div className=\"form-group row\">                   \r\n                      <label className=\"col-sm-2 col-form-label\" style={{lineHeight:3.5}}>\r\n                        Role\r\n                      </label>\r\n                      <label className=\"col-sm-1 col-form-label\" style={{lineHeight:3.5}}>\r\n                        :\r\n                      </label>\r\n                      <label className=\"col-sm-4 col-form-label\" style={{lineHeight:3.5}}>\r\n                        {this.state.dataUser && this.state.dataUser.role}\r\n                      </label>               \r\n                    </div>\r\n\r\n                    {\r\n                      this.isRoleBank(this.state.dataUser && this.state.dataUser.roles && this.state.dataUser.roles[0]) && \r\n                      <div className=\"form-group row\">                   \r\n                        <label className=\"col-sm-2 col-form-label\" style={{lineHeight:3.5}}>\r\n                          Bank\r\n                        </label>\r\n                        <label className=\"col-sm-1 col-form-label\" style={{lineHeight:3.5}}>\r\n                          :\r\n                        </label>\r\n                        <label className=\"col-sm-4 col-form-label\" style={{lineHeight:3.5}}>\r\n                          {this.state.dataUser && this.state.dataUser.bank_name}\r\n                        </label>               \r\n                      </div>\r\n                    }\r\n                    \r\n\r\n                    <div className=\"form-group row\">                   \r\n                      <label className=\"col-sm-2 col-form-label\" style={{lineHeight:3.5}}>\r\n                        Email\r\n                      </label>\r\n                      <label className=\"col-sm-1 col-form-label\" style={{lineHeight:3.5}}>\r\n                        :\r\n                      </label>\r\n                      <label className=\"col-sm-4 col-form-label\" style={{lineHeight:3.5}}>\r\n                        {this.state.dataUser && this.state.dataUser.email}\r\n                      </label>               \r\n                    </div>\r\n\r\n                    <div className=\"form-group row\">                   \r\n                      <label className=\"col-sm-2 col-form-label\" style={{lineHeight:3.5}}>\r\n                        Kontak PIC\r\n                      </label>\r\n                      <label className=\"col-sm-1 col-form-label\" style={{lineHeight:3.5}}>\r\n                        :\r\n                      </label>\r\n                      <label className=\"col-sm-4 col-form-label\" style={{lineHeight:3.5}}>\r\n                        {this.state.dataUser && this.state.dataUser.phone}\r\n                      </label>               \r\n                    </div>\r\n\r\n                    <div className=\"form-group row\">                   \r\n                      <label className=\"col-sm-2 col-form-label\" style={{lineHeight:3.5}}>\r\n                        Status\r\n                      </label>\r\n                      <label className=\"col-sm-1 col-form-label\" style={{lineHeight:3.5}}>\r\n                        :\r\n                      </label>\r\n                      <label className=\"col-sm-4 col-form-label\" style={{lineHeight:3.5}}>\r\n                        {this.state.dataUser && this.state.dataUser.status && this.state.dataUser.status === 'active' ? 'Aktif' : 'Tidak Aktif'}\r\n                      </label>               \r\n                    </div>\r\n\r\n                    <div className=\"form-group row\">\r\n                      <div className=\"col-sm-12 mt-3\">\r\n                        <input type=\"button\" value=\"Kembali\" className=\"btn\" onClick={this.btnCancel} style={{backgroundColor:\"grey\",color:\"white\"}}/>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                 </form>\r\n                \r\n                </div>\r\n            )\r\n        } else if(!getToken()){\r\n          return (\r\n              <Redirect to='/login' />\r\n          )    \r\n        }\r\n       \r\n    }\r\n}\r\n\r\nexport function mapDispatchToProps(dispatch) {\r\n    return {\r\n    //   getSourceTransaction: () => {\r\n    //     dispatch(sourceTransactionRequest());\r\n    //   },\r\n    //   handleRedirect: (route) => {\r\n    //     dispatch(push(route));\r\n    //   },\r\n    };\r\n}\r\n  \r\nexport const mapStateToProps = createStructuredSelector({\r\n  // user: getUserState(),\r\n  // menu: getMenu(),\r\n  // fetching: getFetchStatus(),\r\n});\r\n\r\nconst withConnect = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n);\r\n\r\nconst withStyle = withStyles(styles);\r\n\r\nexport default compose(\r\n    withConnect,\r\n    withStyle,\r\n    withRouter\r\n  )(UserDetail);"]},"metadata":{},"sourceType":"module"}