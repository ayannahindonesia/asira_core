{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_core\\\\src\\\\components\\\\bank\\\\bankList.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { getAllBankList } from './saga';\nimport { checkPermission } from '../global/globalFunction';\nimport 'rc-pagination/assets/index.css';\nimport './../../support/css/pagination.css';\nimport { getToken } from '../index/token';\nimport SearchBar from './../subComponent/SearchBar';\nimport TableComponent from './../subComponent/TableComponent';\nconst columnDataUser = [{\n  id: 'id',\n  numeric: false,\n  label: 'Bank ID'\n}, {\n  id: 'name',\n  numeric: false,\n  label: 'Nama Bank'\n}, {\n  id: 'pic',\n  numeric: false,\n  label: 'PIC'\n}];\n\nclass BankList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this._isMounted = false;\n    this.state = {\n      loading: true,\n      paging: true,\n      rows: [],\n      total_data: 10,\n      page: 1,\n      from: 1,\n      to: 3,\n      last_page: 1,\n      dataPerhalaman: 5,\n      search: ''\n    };\n\n    this.getAllBankData = async function () {\n      let param = {\n        page: this.state.page,\n        rows: 10\n      };\n      var hasil = this.state.search;\n\n      if (hasil.toString().trim().length !== 0) {\n        param.search_all = hasil;\n      }\n\n      const data = await getAllBankList(param);\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            rows: data.bankList.data,\n            total_data: data.bankList.total_data,\n            page: data.bankList.current_page,\n            from: data.bankList.from,\n            to: data.bankList.to,\n            last_page: data.bankList.last_page,\n            dataPerhalaman: data.bankList.rows,\n            loading: false\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error\n          });\n        }\n      }\n    };\n\n    this.onBtnSearch = e => {\n      this.setState({\n        loading: true,\n        page: 1,\n        search: e.target.value\n      }, () => {\n        this.getAllBankData();\n      });\n    };\n\n    this.onChangePage = current => {\n      this.setState({\n        loading: true,\n        page: current\n      }, () => {\n        if (this.state.paging) {\n          this.getAllBankData();\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.getAllBankData();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    if (getToken()) {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"List - Bank\")), React.createElement(\"div\", {\n        className: \"col-4 mt-3 ml-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        onChange: this.onBtnSearch,\n        placeholder: \"Search Nama Bank, ID Bank..\",\n        value: this.state.search,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(TableComponent, {\n        id: \"id\",\n        paging: this.state.paging,\n        loading: this.state.loading,\n        columnData: columnDataUser,\n        data: this.state.rows,\n        page: this.state.page,\n        rowsPerPage: this.state.dataPerhalaman,\n        totalData: this.state.total_data,\n        onChangePage: this.onChangePage,\n        permissionDetail: checkPermission('core_bank_detail') ? '/bankdetail/' : null,\n        permissionEdit: checkPermission('core_bank_patch') ? '/bankedit/' : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }));\n    }\n\n    if (!getToken()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default BankList;","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/bank/bankList.js"],"names":["React","Redirect","getAllBankList","checkPermission","getToken","SearchBar","TableComponent","columnDataUser","id","numeric","label","BankList","Component","_isMounted","state","loading","paging","rows","total_data","page","from","to","last_page","dataPerhalaman","search","getAllBankData","param","hasil","toString","trim","length","search_all","data","error","setState","bankList","current_page","errorMessage","onBtnSearch","e","target","value","onChangePage","current","componentDidMount","componentWillUnmount","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport {getAllBankList} from './saga'\r\nimport { checkPermission } from '../global/globalFunction';\r\nimport 'rc-pagination/assets/index.css';\r\nimport './../../support/css/pagination.css'\r\nimport { getToken } from '../index/token';\r\nimport SearchBar from './../subComponent/SearchBar'\r\nimport TableComponent from './../subComponent/TableComponent'\r\n\r\n\r\nconst columnDataUser = [\r\n  {\r\n      id: 'id',\r\n      numeric: false,\r\n      label: 'Bank ID',\r\n  },\r\n  {\r\n      id: 'name',\r\n      numeric: false,\r\n      label: 'Nama Bank',\r\n  },\r\n  {\r\n      id: 'pic',\r\n      numeric: false,\r\n      label: 'PIC',\r\n  }\r\n]\r\n\r\nclass BankList extends React.Component{\r\n  \r\n    _isMounted=false;\r\n    state={\r\n        loading:true,\r\n        paging:true,\r\n        rows:[],total_data:10,page:1,from:1,to:3,last_page:1,dataPerhalaman:5,\r\n        search: '',\r\n    }\r\n    componentDidMount(){\r\n      this._isMounted=true\r\n        this.getAllBankData()\r\n    }\r\n    componentWillUnmount(){\r\n      this._isMounted=false\r\n\r\n    }\r\n\r\n    getAllBankData = async function () {\r\n        let param = { \r\n          page: this.state.page,\r\n          rows:10\r\n        }\r\n        \r\n        var hasil = this.state.search;\r\n\r\n        if(hasil.toString().trim().length !== 0) {\r\n          param.search_all = hasil\r\n        }\r\n        \r\n        \r\n        const data = await getAllBankList(param)\r\n        if(data){\r\n          if(!data.error){\r\n            this.setState({\r\n              rows:data.bankList.data,\r\n              total_data:data.bankList.total_data,\r\n              page:data.bankList.current_page,\r\n              from:data.bankList.from,\r\n              to:data.bankList.to,\r\n              last_page:data.bankList.last_page,\r\n              dataPerhalaman:data.bankList.rows,\r\n              loading:false})\r\n          }else{\r\n              this.setState({errorMessage:data.error})\r\n          }\r\n        }\r\n    }\r\n\r\n    onBtnSearch = (e)=>{\r\n      this.setState({loading : true, page:1,search:e.target.value},()=>{\r\n        this.getAllBankData()\r\n      })\r\n    }\r\n\r\n\r\n    onChangePage = (current) => {\r\n      \r\n        this.setState({loading:true, page : current}, () => {\r\n          if(this.state.paging){\r\n            this.getAllBankData()\r\n          }\r\n        })\r\n    }\r\n\r\n \r\n    render(){\r\n        if(getToken()){\r\n            return(\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-7\">\r\n                             <h2 className=\"mt-3\">List - Bank</h2>\r\n                        </div>\r\n                        <div className=\"col-4 mt-3 ml-5\">\r\n                        <div className=\"input-group\">\r\n                          <SearchBar \r\n                            onChange={this.onBtnSearch}\r\n                            placeholder=\"Search Nama Bank, ID Bank..\"\r\n                            value={this.state.search}\r\n                          />\r\n\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                   <hr/>\r\n\r\n                   < TableComponent\r\n                        id={\"id\"}\r\n                        paging={this.state.paging}\r\n                        loading={this.state.loading}\r\n                        columnData={columnDataUser}\r\n                        data={this.state.rows}\r\n                        page={this.state.page}\r\n                        rowsPerPage={this.state.dataPerhalaman}\r\n                        totalData={this.state.total_data}\r\n                        onChangePage={this.onChangePage}             \r\n                        permissionDetail={ checkPermission('core_bank_detail') ? '/bankdetail/' : null}\r\n                        permissionEdit={ checkPermission('core_bank_patch') ? '/bankedit/' : null}\r\n\r\n                    />\r\n                   \r\n               \r\n               \r\n                </div>\r\n            )\r\n        }\r\n        if(!getToken()){\r\n            return (\r\n                <Redirect to='/login' />\r\n            )    \r\n        }\r\n       \r\n    }\r\n}\r\n\r\nexport default BankList;"]},"metadata":{},"sourceType":"module"}