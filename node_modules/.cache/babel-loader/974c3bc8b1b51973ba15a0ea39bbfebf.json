{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_core\\\\src\\\\components\\\\penyediaAgent\\\\penyediaList.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport './../../support/css/pagination.css';\nimport { getToken } from '../index/token';\nimport { checkPermission } from '../global/globalFunction';\nimport { getPenyediaAgentListFunction } from './saga';\nimport TableComponent from './../subComponent/TableComponent';\nconst columnDataUser = [{\n  id: 'id',\n  numeric: false,\n  label: 'ID Penyedia Agen'\n}, {\n  id: 'name',\n  numeric: false,\n  label: 'Nama Penyedia Agen'\n}, {\n  id: 'status',\n  numeric: false,\n  label: 'Status'\n}];\n\nclass profileNasabah extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rows: [],\n      searchRows: '',\n      page: 1,\n      rowsPerPage: 5,\n      isEdit: false,\n      editIndex: Number,\n      total_data: 0,\n      last_page: 1,\n      loading: true,\n      bankID: 0,\n      bankName: '',\n      paging: true\n    };\n    this._isMounted = false;\n\n    this.getAllData = async function () {\n      const param = {\n        rows: 10,\n        page: this.state.page\n      };\n      let hasil = this.state.searchRows;\n\n      if (hasil) {\n        param.search_all = hasil;\n      }\n\n      const data = await getPenyediaAgentListFunction(param);\n      const dataAgent = data.dataListAgent && data.dataListAgent.data;\n\n      for (const key in dataAgent) {\n        dataAgent[key].status = dataAgent[key].status === 'active' ? \"Aktif\" : \"Tidak Aktif\";\n      }\n\n      if (data) {\n        if (!data.error) {\n          this.setState({\n            loading: false,\n            rows: data.dataListAgent.data,\n            rowsPerPage: data.dataListAgent.rows,\n            jumlahBaris: null,\n            total_data: data.dataListAgent.total_data,\n            last_page: data.dataListAgent.last_page,\n            page: data.dataListAgent.current_page\n          });\n        } else {\n          this.setState({\n            errorMessage: data.error\n          });\n        }\n      }\n    };\n\n    this.onBtnSearch = e => {\n      this.setState({\n        loading: true,\n        searchRows: e.target.value,\n        page: 1\n      }, () => {\n        if (this.state.paging) {\n          this.getAllData();\n        }\n      });\n    };\n\n    this.onChangePage = current => {\n      this.setState({\n        loading: true,\n        page: current\n      }, () => {\n        if (this.state.paging) {\n          this.getAllData();\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getAllData();\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  } //Ambil data pertama kali\n\n\n  render() {\n    if (getToken()) {\n      return React.createElement(\"div\", {\n        style: {\n          padding: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(TableComponent, {\n        id: \"id\",\n        search: {\n          value: this.state.searchRows,\n          label: 'Search Penyedia Agen, ID Penyedia Agen..',\n          function: this.onBtnSearch\n        },\n        title: 'Penyedia Agen - List',\n        paging: this.state.paging,\n        loading: this.state.loading,\n        columnData: columnDataUser,\n        data: this.state.rows,\n        page: this.state.page,\n        rowsPerPage: this.state.rowsPerPage,\n        totalData: this.state.total_data,\n        onChangePage: this.onChangePage,\n        permissionAdd: checkPermission('core_agent_provider_new') ? '/penyediaAdd/' : null,\n        permissionEdit: checkPermission('core_agent_provider_patch') ? '/penyediaEdit/' : null,\n        permissionDetail: checkPermission('core_agent_provider_details') ? '/penyediaDetail/' : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }));\n    } else if (!getToken()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nconst mapStateToProp = state => {\n  return {\n    id: state.user.id\n  };\n};\n\nexport default connect(mapStateToProp)(profileNasabah);","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/penyediaAgent/penyediaList.js"],"names":["React","connect","Redirect","getToken","checkPermission","getPenyediaAgentListFunction","TableComponent","columnDataUser","id","numeric","label","profileNasabah","Component","state","rows","searchRows","page","rowsPerPage","isEdit","editIndex","Number","total_data","last_page","loading","bankID","bankName","paging","_isMounted","getAllData","param","hasil","search_all","data","dataAgent","dataListAgent","key","status","error","setState","jumlahBaris","current_page","errorMessage","onBtnSearch","e","target","value","onChangePage","current","componentDidMount","componentWillUnmount","render","padding","function","mapStateToProp","user"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport './../../support/css/pagination.css'\r\nimport { getToken } from '../index/token';\r\nimport { checkPermission } from '../global/globalFunction';\r\nimport { getPenyediaAgentListFunction } from './saga';\r\nimport TableComponent from './../subComponent/TableComponent'\r\n\r\nconst columnDataUser = [\r\n  {\r\n      id: 'id',\r\n      numeric: false,\r\n      label: 'ID Penyedia Agen',\r\n  },\r\n  {\r\n      id: 'name',\r\n      numeric: false,\r\n      label: 'Nama Penyedia Agen',\r\n  },\r\n  {\r\n      id: 'status',\r\n      numeric: false,\r\n      label: 'Status',\r\n  },\r\n]\r\n\r\nclass profileNasabah extends React.Component {\r\n  state = {\r\n    rows: [], searchRows:'',\r\n    page: 1,\r\n    rowsPerPage: 5,\r\n    isEdit: false,\r\n    editIndex:Number,\r\n    total_data:0,\r\n    last_page:1,\r\n    loading:true,\r\n    bankID:0,bankName:'',paging:true\r\n  \r\n  };\r\n\r\n  //-----------------------------------NIKO FUNCTION-------------------------------------------------------------\r\n  \r\n  _isMounted = false\r\n  componentDidMount(){\r\n    this.getAllData()\r\n    this._isMounted = true\r\n  }\r\n  componentWillUnmount(){\r\n    this._isMounted = false\r\n  }\r\n\r\n  //Ambil data pertama kali\r\n  getAllData = async function(){\r\n      const param ={\r\n        rows:10,\r\n        page:this.state.page\r\n      }\r\n      let hasil = this.state.searchRows\r\n\r\n      if (hasil){\r\n       param.search_all = hasil\r\n      }\r\n\r\n      const data = await getPenyediaAgentListFunction(param)\r\n      const dataAgent = data.dataListAgent && data.dataListAgent.data\r\n      for (const key in dataAgent){\r\n        dataAgent[key].status = dataAgent[key].status ==='active'?\"Aktif\":\"Tidak Aktif\"\r\n      }\r\n      if(data){\r\n        if(!data.error){\r\n          this.setState({loading:false,rows:data.dataListAgent.data,\r\n            rowsPerPage:data.dataListAgent.rows,\r\n            jumlahBaris:null,\r\n            total_data:data.dataListAgent.total_data,\r\n            last_page:data.dataListAgent.last_page,\r\n            page:data.dataListAgent.current_page})\r\n        }else{\r\n          this.setState({errorMessage:data.error})\r\n        }\r\n      }\r\n  }\r\n\r\n  onBtnSearch = (e)=>{\r\n    this.setState({loading:true,searchRows:e.target.value,page:1},()=>{\r\n      if(this.state.paging){\r\n        this.getAllData()\r\n      }\r\n    })\r\n  \r\n  }\r\n\r\n onChangePage = (current) => {\r\n  this.setState({loading:true,page:current},()=>{\r\n    if(this.state.paging){\r\n      this.getAllData()\r\n    }\r\n  })\r\n}\r\n  \r\nrender() {   \r\nif(getToken()){\r\n    return (\r\n      <div style={{padding:0}}>\r\n        < TableComponent\r\n          id={\"id\"}\r\n          search={\r\n            {\r\n              value: this.state.searchRows,\r\n              label: 'Search Penyedia Agen, ID Penyedia Agen..',\r\n              function: this.onBtnSearch,\r\n            }\r\n          }\r\n          title={'Penyedia Agen - List'}\r\n          paging={this.state.paging}\r\n          loading={this.state.loading}\r\n          columnData={columnDataUser}\r\n          data={this.state.rows}\r\n          page={this.state.page}\r\n          rowsPerPage={this.state.rowsPerPage}\r\n          totalData={this.state.total_data}\r\n          onChangePage={this.onChangePage}  \r\n          permissionAdd={ checkPermission('core_agent_provider_new') ? '/penyediaAdd/' : null}           \r\n          permissionEdit={ checkPermission('core_agent_provider_patch') ? '/penyediaEdit/' : null}\r\n          permissionDetail={ checkPermission('core_agent_provider_details') ? '/penyediaDetail/' : null}\r\n\r\n        /> \r\n         \r\n      </div>\r\n    );\r\n\r\n}\r\n    else if(!getToken()){\r\n      return  <Redirect to='/login' />\r\n    }\r\n    \r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProp = (state)=>{\r\n  return{     \r\n      id: state.user.id\r\n  }\r\n  \r\n}\r\nexport default connect (mapStateToProp)(profileNasabah) ;"]},"metadata":{},"sourceType":"module"}