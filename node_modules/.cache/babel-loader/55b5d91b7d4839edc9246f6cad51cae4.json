{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_core\\\\src\\\\components\\\\role\\\\roleEdit.jsx\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport { EditRoleFunction, DetailRoleFunction } from './saga';\nimport { getToken } from '../index/token';\n\nclass RoleEdit extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      diKlik: false,\n      dataRole: '',\n      check: true\n    };\n    this._isMounted = false;\n\n    this.btnCancel = () => {\n      this.setState({\n        diKlik: true\n      });\n    };\n\n    this.getDetailRoleByID = async function () {\n      const id = this.props.match.params.id;\n      const param = {\n        id\n      };\n      const data = await DetailRoleFunction(param);\n\n      if (data) {\n        if (data.error) {\n          this.setState({\n            errorMessage: data.error\n          });\n        } else {\n          this.setState({\n            dataRole: data.data,\n            check: data.data.status && data.data.status === 'active' ? true : false\n          });\n        }\n      }\n    };\n\n    this.btnEdit = () => {\n      var id = this.props.match.params.id;\n      var description = this.refs.deskripsi.value ? this.refs.deskripsi.value : this.refs.deskripsi.placeholder;\n      var status = this.state.check;\n      status ? status = \"active\" : status = \"inactive\";\n      var newData = {\n        description,\n        status\n      };\n      const param = {\n        id,\n        newData\n      };\n      this.setState({\n        submit: true\n      });\n      this.editRole(param);\n    };\n\n    this.editRole = async function (params) {\n      const data = await EditRoleFunction(params);\n\n      if (data) {\n        if (data.error) {\n          this.setState({\n            errorMessage: data.error,\n            submit: false\n          });\n        } else {\n          swal(\"Success\", \"Role berhasil di Edit\", \"success\");\n          this.setState({\n            diKlik: true,\n            submit: false\n          });\n        }\n      }\n    };\n\n    this.renderBtnSumbit = () => {\n      if (this.state.submit) {\n        return React.createElement(\"input\", {\n          type: \"button\",\n          disabled: true,\n          className: \"btn btn-success\",\n          value: \"Simpan\",\n          onClick: this.btnEdit,\n          style: {\n            cursor: \"wait\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"input\", {\n          type: \"button\",\n          className: \"btn btn-success\",\n          value: \"Simpan\",\n          onClick: this.btnEdit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.handleChecked = () => {\n      this.setState({\n        check: !this.state.check\n      });\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      errorMessage: newProps.error\n    });\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.getDetailRoleByID();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    if (this.state.diKlik) {\n      return React.createElement(Redirect, {\n        to: \"/listrole\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      });\n    }\n\n    if (getToken()) {\n      return React.createElement(\"div\", {\n        className: \"container mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Role - Edit\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Role Id\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        disabled: true,\n        type: \"text\",\n        required: true,\n        className: \"form-control\",\n        ref: \"namaRole\",\n        placeholder: this.state.dataRole.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Nama Role\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        disabled: true,\n        type: \"text\",\n        required: true,\n        className: \"form-control\",\n        ref: \"namaRole\",\n        placeholder: this.state.dataRole.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Sistem\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        disabled: true,\n        type: \"text\",\n        required: true,\n        className: \"form-control\",\n        ref: \"namaRole\",\n        placeholder: this.state.dataRole.system,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Deskripsi\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        rows: 6,\n        ref: \"deskripsi\",\n        className: \"form-control\",\n        placeholder: this.state.dataRole.description,\n        required: true,\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Status\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-check-input messageCheckbox AddStyleButtonCheckbox\",\n        type: \"checkbox\",\n        onChange: this.handleChecked,\n        checked: this.state.check,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        style: {\n          position: \"relative\",\n          left: \"18%\",\n          paddingTop: \"3px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, this.state.check ? 'Aktif' : 'Tidak Aktif')), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12 ml-3 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, this.renderBtnSumbit(), React.createElement(\"input\", {\n        type: \"button\",\n        value: \"Batal\",\n        className: \"btn ml-2\",\n        onClick: this.btnCancel,\n        style: {\n          backgroundColor: \"grey\",\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }))))));\n    }\n\n    if (!getToken()) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default RoleEdit;","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/role/roleEdit.jsx"],"names":["React","Redirect","swal","EditRoleFunction","DetailRoleFunction","getToken","RoleEdit","Component","state","diKlik","dataRole","check","_isMounted","btnCancel","setState","getDetailRoleByID","id","props","match","params","param","data","error","errorMessage","status","btnEdit","description","refs","deskripsi","value","placeholder","newData","submit","editRole","renderBtnSumbit","cursor","handleChecked","componentWillReceiveProps","newProps","componentDidMount","componentWillUnmount","render","name","system","position","left","paddingTop","backgroundColor","color"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport swal from 'sweetalert'\r\nimport { EditRoleFunction, DetailRoleFunction } from './saga';\r\nimport { getToken } from '../index/token';\r\n\r\nclass RoleEdit extends React.Component{\r\n    state = {\r\n        diKlik:false,\r\n        dataRole:'',\r\n        check:true\r\n    };\r\n    _isMounted = false;\r\n    btnCancel = ()=>{\r\n        this.setState({diKlik:true})\r\n    }\r\n    componentWillReceiveProps(newProps){\r\n        this.setState({errorMessage:newProps.error})\r\n    }\r\n    componentDidMount(){\r\n        this._isMounted = true;\r\n        this.getDetailRoleByID()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    \r\n    getDetailRoleByID = async function () {\r\n        const id = this.props.match.params.id\r\n        const param ={id}\r\n        const data = await DetailRoleFunction (param)\r\n        if(data){\r\n            if(data.error){\r\n                this.setState({errorMessage:data.error})\r\n            }else{\r\n                this.setState({dataRole:data.data,check:data.data.status && data.data.status === 'active' ? true : false})\r\n            }\r\n        }\r\n\r\n    }\r\n    btnEdit = ()=>{\r\n        var id = this.props.match.params.id\r\n        var description = this.refs.deskripsi.value ?  this.refs.deskripsi.value :  this.refs.deskripsi.placeholder\r\n        var status =  this.state.check\r\n        status ? status= \"active\": status= \"inactive\"\r\n        var newData = {description,status}\r\n        const param = {\r\n            id,newData\r\n        }\r\n        this.setState({submit:true})\r\n        this.editRole(param)\r\n    }\r\n\r\n    editRole = async function (params) {\r\n        const data = await EditRoleFunction(params)\r\n        if(data){\r\n            if(data.error){\r\n                this.setState({errorMessage:data.error,submit:false})\r\n            }else{\r\n                swal(\"Success\",\"Role berhasil di Edit\",\"success\")\r\n                this.setState({diKlik:true,submit:false})\r\n            }\r\n        }\r\n    }\r\n    \r\n    renderBtnSumbit =()=>{\r\n        if( this.state.submit) {\r\n         return <input type=\"button\" disabled className=\"btn btn-success\" value=\"Simpan\" onClick={this.btnEdit} style={{cursor:\"wait\"}}/>\r\n        }else{\r\n        return <input type=\"button\" className=\"btn btn-success\" value=\"Simpan\" onClick={this.btnEdit}/>\r\n        }\r\n    }\r\n    handleChecked = () =>{\r\n        this.setState({check:!this.state.check})\r\n    }\r\n    render(){\r\n        if(this.state.diKlik){\r\n            return <Redirect to='/listrole'/>            \r\n        }\r\n        if(getToken()){\r\n            return(\r\n                <div className=\"container mt-4\">\r\n                 <h3>Role - Edit</h3>\r\n                 <hr/>\r\n                 <form>\r\n                             <div className=\"form-group row\">\r\n                            \r\n                            <label className=\"col-sm-2 col-form-label\">Role Id</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <input disabled type=\"text\" required className=\"form-control\" ref=\"namaRole\" placeholder={this.state.dataRole.id} />\r\n                            </div>\r\n                            \r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                            \r\n                            <label className=\"col-sm-2 col-form-label\">Nama Role</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <input disabled type=\"text\" required className=\"form-control\" ref=\"namaRole\" placeholder={this.state.dataRole.name} />\r\n                            </div>\r\n                            \r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                            \r\n                            <label className=\"col-sm-2 col-form-label\">Sistem</label>\r\n                            <div className=\"col-sm-10\">\r\n                            <input disabled type=\"text\" required className=\"form-control\" ref=\"namaRole\" placeholder={this.state.dataRole.system} />\r\n                            </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group row\">\r\n                            <label className=\"col-sm-2 col-form-label\">Deskripsi</label>\r\n                            <div className=\"col-sm-10\">\r\n                                <textarea  rows= {6} ref=\"deskripsi\" className=\"form-control\"  placeholder={this.state.dataRole.description} required autoFocus/>\r\n                            </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group row\">\r\n                            <label className=\"col-sm-2 col-form-label\">Status</label>\r\n                            <div className=\"col-sm-10\">\r\n                            <input className=\"form-check-input messageCheckbox AddStyleButtonCheckbox\" type=\"checkbox\" onChange={this.handleChecked} checked={this.state.check} /> \r\n                            <label style={{position:\"relative\",left:\"18%\",paddingTop:\"3px\"}}>{this.state.check ? 'Aktif' : 'Tidak Aktif'}</label>        \r\n                            </div>\r\n\r\n                            <div className=\"form-group row\">\r\n                            <div className=\"col-sm-12 ml-3 mt-3\">\r\n                                                {this.renderBtnSumbit()}\r\n                                                <input type=\"button\" value=\"Batal\" className=\"btn ml-2\" onClick={this.btnCancel} style={{backgroundColor:\"grey\",color:\"white\"}}/>\r\n                             </div></div>\r\n                    </div>\r\n                 </form>\r\n                \r\n                </div>\r\n            )\r\n        }\r\n        if(!getToken())\r\n        {\r\n            return (\r\n                <Redirect to='/login' />\r\n            )    \r\n        }\r\n       \r\n    }\r\n}\r\n\r\nexport default RoleEdit;"]},"metadata":{},"sourceType":"module"}