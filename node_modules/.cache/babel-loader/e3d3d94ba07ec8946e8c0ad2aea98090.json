{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\asira_core\\\\src\\\\components\\\\report\\\\report.js\";\nimport React from 'react';\nimport Cookies from 'universal-cookie';\nimport { Redirect } from 'react-router-dom';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { withStyles } from '@material-ui/styles';\nimport { compose } from 'redux';\nimport DatePickers from './../subComponent/DatePicker';\nimport { serverUrl } from './../url';\nimport axios from 'axios';\nimport { GlobalFunction } from './../globalFunction';\nconst cookie = new Cookies();\n\nconst styles = theme => ({\n  // root: theme.mixins.gutters({\n  //   paddingTop: 16,\n  //   paddingBottom: 16,\n  //   marginTop: theme.spacing.unit * 3,\n  // }),\n  heading: {\n    flex: '0 0 auto',\n    fontSize: '18px',\n    width: '50vw',\n    fontWeight: '800'\n  },\n  container: {\n    flexGrow: 1\n  },\n  textField: {\n    width: '90%',\n    position: 'relative',\n    top: '0.275vh',\n    marginBottom: '1vh'\n  },\n  textFieldModify: {\n    width: '97.5%',\n    marginBottom: '1vh'\n  },\n  textfieldName: {\n    width: '90%',\n    marginBottom: '1vh',\n    position: 'relative',\n    top: '0.2vh'\n  }\n});\n\nclass Report extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      munculinTable: false,\n      pilihReport: false,\n      tanggalAwal: null,\n      tanggalAkhir: null,\n      errorMessage: '',\n      errorMessageBank: '',\n      dataBank: [],\n      namaBank: null,\n      loading: false\n    };\n\n    this.getDataBankList = () => {\n      var config = {\n        headers: {\n          'Authorization': \"Bearer \" + cookie.get('token')\n        }\n      };\n      var newLink = `admin/banks?orderby=id&sort=ASC`;\n      axios.get(serverUrl + newLink, config).then(res => {\n        console.log(res.data.data);\n        this.setState({\n          dataBank: res.data.data\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.renderBankList = () => {\n      var jsx = this.state.dataBank.map((val, index) => {\n        return React.createElement(\"option\", {\n          key: index,\n          value: val.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, val.name);\n      });\n      return jsx;\n    };\n\n    this.handleBank = e => {\n      this.setState({\n        namaBank: e.target.value\n      });\n    };\n\n    this.handleChangeFee = e => {\n      if (e.target.value === \"1\") {\n        this.setState({\n          pilihReport: true\n        });\n      } else {\n        this.setState({\n          pilihReport: false\n        });\n      }\n    };\n\n    this.handleEndChange = e => {\n      this.setState({\n        tanggalAkhir: e.target.value.toString().trim().length !== 0 ? e.target.value : null,\n        errorMessage: ''\n      });\n    };\n\n    this.handleStartChange = e => {\n      this.setState({\n        tanggalAwal: e.target.value.toString().trim().length !== 0 ? e.target.value : null,\n        errorMessage: ''\n      });\n    };\n\n    this.btnShowReport = () => {\n      const _this$state = this.state,\n            tanggalAkhir = _this$state.tanggalAkhir,\n            tanggalAwal = _this$state.tanggalAwal,\n            namaBank = _this$state.namaBank;\n      var dateAwal = new Date(tanggalAwal).getTime();\n      var dateAkhir = new Date(tanggalAkhir).getTime();\n\n      if (tanggalAwal === null || tanggalAkhir === null) {\n        this.setState({\n          errorMessage: \"Tanggal ada yang kosong - Harap cek ulang\"\n        });\n      } else if (dateAwal > dateAkhir) {\n        this.setState({\n          errorMessage: \"Range tanggal tidak benar - Harap cek ulang\"\n        });\n      } else if (namaBank === \"0\" || namaBank === null) {\n        this.setState({\n          errorMessageBank: \"Bank Kosong - Harap cek ulang\"\n        });\n      } else {\n        this.setState({\n          loading: true\n        });\n        var newTanggalAwal = tanggalAwal + \"T00:00:00.000Z\";\n        var newTanggalBack = tanggalAkhir + \"T23:59:59.000Z\";\n        this.getAllLoanData(newTanggalAwal, newTanggalBack, namaBank);\n      }\n    };\n\n    this.getAllLoanData = (tanggalAwal, tanggalAkhir, namaBank) => {\n      var config = {\n        headers: {\n          'Authorization': \"Bearer \" + cookie.get('token')\n        }\n      };\n      var newLink = `admin/reports/convenience_fee?bank_name=${namaBank}&start_date=${tanggalAwal}&end_date=${tanggalAkhir}`;\n      axios.get(serverUrl + newLink, config).then(res => {\n        console.log(res.data.data);\n        this.setState({\n          dataReport: res.data.data,\n          errorMessage: \"\",\n          errorMessageBank: '',\n          munculinTable: true,\n          loading: false\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.renderReportJsx = () => {\n      var jsx = this.state.dataReport.map((val, index) => {\n        return React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, index + 1), React.createElement(\"td\", {\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, val.bank_name), React.createElement(\"td\", {\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, val.service_name), React.createElement(\"td\", {\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, val.product_name), React.createElement(\"td\", {\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, val.loan_id), React.createElement(\"td\", {\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, GlobalFunction.formatMoney(val.plafond)), React.createElement(\"td\", {\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, GlobalFunction.formatMoney(val.convenience_fee)));\n      });\n      return jsx;\n    };\n\n    this.getTotalHarga = () => {\n      var harga = 0;\n\n      for (var i = 0; i < this.state.dataReport.length; i++) {\n        harga += parseInt(this.state.dataReport[i].convenience_fee);\n      }\n\n      return GlobalFunction.formatMoney(harga);\n    };\n\n    this.renderLoadingBtn = () => {\n      if (this.state.loading === true) {\n        return React.createElement(\"input\", {\n          disabled: true,\n          type: \"button\",\n          className: \"btn btn-success\",\n          value: \"Proses\",\n          onClick: this.btnShowReport,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"input\", {\n          type: \"button\",\n          className: \"btn btn-success\",\n          value: \"Proses\",\n          onClick: this.btnShowReport,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.btnReset = () => {\n      this.setState({\n        errorMessage: \"\",\n        errorMessageBank: '',\n        munculinTable: false,\n        namaBank: null\n      });\n      document.getElementById(\"bankName\").value = \"0\";\n    };\n  }\n\n  componentDidMount() {\n    this.getDataBankList();\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      errorMessage: newProps.error,\n      errorMessageBank: newProps.error\n    });\n  } //----------------------- GET DATA LIST BANK ---------------------\n\n\n  render() {\n    if (cookie.get('token')) {\n      return React.createElement(\"div\", {\n        className: \"container mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Report\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12\",\n        style: {\n          color: \"red\",\n          fontSize: \"15px\",\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, this.state.errorMessage, this.state.errorMessageBank)), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Nama Report\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        ref: \"convfee\",\n        onChange: this.handleChangeFee,\n        id: \"report\",\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"======== Pilih Report ========\"), React.createElement(\"option\", {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Convenience Fee Report\")))), this.state.pilihReport ? React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Nama Bank\"), React.createElement(\"div\", {\n        className: \"col-sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        ref: \"bankName\",\n        id: \"bankName\",\n        onChange: this.handleBank,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"======== Pilih Bank ========\"), this.renderBankList()))), React.createElement(\"div\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Tanggal Pinjaman Disetujui\"), React.createElement(\"div\", {\n        className: \"col-sm-10 form-inline pl-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-1 form-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-sm-3 form-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(DatePickers, {\n        label: \"Dari Tanggal\",\n        onChange: this.handleStartChange,\n        value: this.state.tanggalAwal,\n        error: this.state.errorMessage.trim().length !== 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-inline mr-3 ml-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-long-arrow-alt-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-3 form-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(DatePickers, {\n        label: \"Sampai Tanggal\",\n        onChange: this.handleEndChange,\n        value: this.state.tanggalAwal,\n        error: this.state.errorMessage.trim().length !== 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      })))), this.renderLoadingBtn(), React.createElement(\"input\", {\n        type: \"button\",\n        className: \"btn btn-secondary ml-2\",\n        value: \"Reset\",\n        onClick: this.btnReset,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      })) : null, this.state.munculinTable ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }), React.createElement(\"table\", {\n        className: \"table table-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"table-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"Nama Bank\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, \"Layanan\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, \"Produk\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"Loan Id\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, \"Plafond\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, \"Convinience Fee Amount\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, this.state.dataReport.length === 0 ? React.createElement(\"tr\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        colSpan: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          marginRight: \"50px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, \"DATA KOSONG\"))) : this.renderReportJsx(), React.createElement(\"tr\", {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        colSpan: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          marginRight: \"50px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, this.getTotalHarga())))))) : null);\n    }\n\n    if (!cookie.get('token')) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport function mapDispatchToProps(dispatch) {\n  return {//   getSourceTransaction: () => {\n    //     dispatch(sourceTransactionRequest());\n    //   },\n    //   getApplication: () => {\n    //     dispatch(applicationRequest());\n    //   },\n    //   getSecurityAdministrator: (application) => {\n    //     dispatch(securityAdministratorRequest(application));\n    //   },\n    //   getToken: (application) => {\n    //     dispatch(rpsTokenRequest(application));\n    //   },\n    //   getTokenUpdate: (application) => {\n    //     dispatch(rpsTokenUpdateRequest(application));\n    //   },\n    //   getAction: (application) => {\n    //     dispatch(rpsActionRequest(application));\n    //   },\n    //   getProfileUserId: (application) => {\n    //     dispatch(profileUserIdRequest(application));\n    //   },\n    //   getCurrency: () => {\n    //     dispatch(currencyRequest());\n    //   },\n    //   getKanwil: () => {\n    //     dispatch(kanwilRequest());\n    //   },\n    //   getKCU: (kanwil) => {\n    //     dispatch(kcuRequest(kanwil));\n    //   },\n    //   getBranch: (kodeKcu) => {\n    //     dispatch(branchRequest(kodeKcu));\n    //   },\n    //   handleRedirect: (route) => {\n    //     dispatch(push(route));\n    //   },\n    //   handleCreaterpsTransaction: (rpsTransaction) => {\n    //     dispatch(rpsTransactionCreate(rpsTransaction));\n    //   },\n    //   handleUpdaterpsTransaction: (rpsTransaction) => {\n    //     dispatch(rpsTransactionUpdate(rpsTransaction));\n    //   },\n    //   handleGetrpsUserIdDetail: (rpsUserId) => {\n    //     dispatch(rpsUserIdDetail(rpsUserId));\n    //   },\n    //   handleGetDetailProfileUser: (rpsUserId) => {\n    //     dispatch(rpsProfileUserDetail(rpsUserId));\n    //   },\n    //   handleDelete: (rpsUserId) => {\n    //     dispatch(rpsUserIdDelete(rpsUserId));\n    //   },\n    //   handleSetMessage: (message) => {\n    //     dispatch(setAlert(message));\n    //   },\n  };\n}\nexport const mapStateToProps = createStructuredSelector({// user: getUserState(),\n  // menu: getMenu(),\n  // rpsUserIdDetailNew: getrpsUserIdDetail(),\n  // profileUserDetail: getrpsProfileUserDetail(),\n  // listSourceTransaction: getListSourceTransaction(),\n  // listAction: getListAction(),\n  // listToken: getListToken(),\n  // listEmployee: getListEmployee(),\n  // listBranch: getListBranch(),\n  // listApplication: getListApplication(),\n  // listSecurityAdministrator: getListSecurityAdministrator(),\n  // listCurrency: getListCurrency(),\n  // listprofileUserId: getListProfileUserId(),\n  // listKanwil: getListKanwil(),\n  // listKCU: getListKCU(),\n  // message: getMessageValue(),\n  // redirect: getRedirectValue(),\n  // fetching: getFetchStatus(),\n});\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nconst withStyle = withStyles(styles); // const withReducer = injectReducer({ key: 'rpsTransaction', reducer });\n// const withSaga = injectSaga({ key: 'rpsTransaction', saga });\n\nexport default compose( // withReducer,\nwithConnect, // withSaga,\nwithStyle, withRouter)(Report); // export default RoleAdd;","map":{"version":3,"sources":["C:/Users/pc/Desktop/asira_core/src/components/report/report.js"],"names":["React","Cookies","Redirect","createStructuredSelector","connect","withRouter","withStyles","compose","DatePickers","serverUrl","axios","GlobalFunction","cookie","styles","theme","heading","flex","fontSize","width","fontWeight","container","flexGrow","textField","position","top","marginBottom","textFieldModify","textfieldName","Report","Component","state","munculinTable","pilihReport","tanggalAwal","tanggalAkhir","errorMessage","errorMessageBank","dataBank","namaBank","loading","getDataBankList","config","headers","get","newLink","then","res","console","log","data","setState","catch","err","renderBankList","jsx","map","val","index","name","handleBank","e","target","value","handleChangeFee","handleEndChange","toString","trim","length","handleStartChange","btnShowReport","dateAwal","Date","getTime","dateAkhir","newTanggalAwal","newTanggalBack","getAllLoanData","dataReport","renderReportJsx","bank_name","service_name","product_name","loan_id","formatMoney","plafond","convenience_fee","getTotalHarga","harga","i","parseInt","renderLoadingBtn","btnReset","document","getElementById","componentDidMount","componentWillReceiveProps","newProps","error","render","color","textAlign","marginRight","mapDispatchToProps","dispatch","mapStateToProps","withConnect","withStyle"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Cookies from 'universal-cookie';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport { compose } from 'redux';\r\nimport DatePickers from './../subComponent/DatePicker'\r\nimport {serverUrl} from './../url'\r\nimport axios from 'axios'\r\nimport { GlobalFunction } from './../globalFunction'\r\n\r\nconst cookie = new Cookies()\r\n\r\n  const styles = (theme) => ({\r\n    // root: theme.mixins.gutters({\r\n    //   paddingTop: 16,\r\n    //   paddingBottom: 16,\r\n    //   marginTop: theme.spacing.unit * 3,\r\n    // }),\r\n    heading: {\r\n      flex: '0 0 auto',\r\n      fontSize: '18px',\r\n      width: '50vw',\r\n      fontWeight: '800',\r\n    },\r\n    container: {\r\n      flexGrow: 1,\r\n    },\r\n    textField: {\r\n      width: '90%',\r\n      position: 'relative',\r\n      top: '0.275vh',\r\n      marginBottom: '1vh',\r\n    },\r\n    textFieldModify: {\r\n      width: '97.5%',\r\n      marginBottom: '1vh',\r\n    },\r\n    textfieldName: {\r\n      width: '90%',\r\n      marginBottom: '1vh',\r\n      position: 'relative',\r\n      top: '0.2vh',\r\n    },\r\n  });\r\n\r\nclass Report extends React.Component{\r\n    \r\n    state ={munculinTable:false,pilihReport:false, tanggalAwal:null,tanggalAkhir:null,errorMessage:'',errorMessageBank:'',dataBank:[],namaBank:null,loading:false}\r\n    componentDidMount(){\r\n        this.getDataBankList()\r\n    }\r\n    componentWillReceiveProps(newProps){\r\n        this.setState({errorMessage:newProps.error,errorMessageBank:newProps.error})\r\n    }\r\n    \r\n    //----------------------- GET DATA LIST BANK ---------------------\r\n    getDataBankList = () =>{\r\n       var config = {\r\n            headers: {'Authorization': \"Bearer \" + cookie.get('token')}\r\n          };\r\n        var newLink =`admin/banks?orderby=id&sort=ASC`\r\n        axios.get(serverUrl+newLink,config)\r\n          .then((res)=>{\r\n              console.log(res.data.data)\r\n              this.setState({dataBank:res.data.data})\r\n          })\r\n          .catch((err)=>console.log(err))\r\n    }\r\n\r\n    renderBankList = () =>{\r\n        var jsx = this.state.dataBank.map((val,index)=>{\r\n            return (\r\n                <option key={index} value={val.name}>{val.name}</option>\r\n            )\r\n        })\r\n        return jsx\r\n    }\r\n    handleBank = (e)=>{\r\n        this.setState({namaBank:e.target.value})\r\n    }\r\n    //---------------------- HANDLE CONVINIENCE FEE ---------------------\r\n    handleChangeFee = (e)=>{\r\n        if(e.target.value === \"1\"){\r\n            this.setState({pilihReport:true})\r\n        }else{\r\n            this.setState({pilihReport:false})\r\n        }\r\n    }\r\n    //---------------------- HANDLE TANGGAL ---------------------\r\n    handleEndChange = (e)=>{\r\n        this.setState({tanggalAkhir:e.target.value.toString().trim().length !== 0 ? e.target.value : null,errorMessage:''})\r\n    }\r\n    handleStartChange = (e)=>{\r\n        this.setState({tanggalAwal:e.target.value.toString().trim().length !== 0 ? e.target.value : null,errorMessage:''})\r\n    }\r\n    //---------------------- HANDLE BUTTON PROSES ---------------------\r\n    btnShowReport = ()=>{\r\n       const {tanggalAkhir,tanggalAwal,namaBank} = this.state\r\n       var dateAwal = new Date(tanggalAwal).getTime()\r\n       var dateAkhir = new Date(tanggalAkhir).getTime()\r\n        if(tanggalAwal === null || tanggalAkhir ===null){\r\n            this.setState({errorMessage:\"Tanggal ada yang kosong - Harap cek ulang\"})\r\n        }else if(dateAwal > dateAkhir){\r\n            this.setState({errorMessage:\"Range tanggal tidak benar - Harap cek ulang\"})\r\n        }else if(namaBank === \"0\" || namaBank === null){\r\n            this.setState({errorMessageBank:\"Bank Kosong - Harap cek ulang\"})\r\n        }\r\n        else{\r\n            this.setState({loading:true})\r\n            var newTanggalAwal = tanggalAwal+\"T00:00:00.000Z\"\r\n            var newTanggalBack = tanggalAkhir+\"T23:59:59.000Z\"\r\n            this.getAllLoanData(newTanggalAwal,newTanggalBack,namaBank)\r\n           \r\n        }\r\n\r\n    }\r\n    getAllLoanData = (tanggalAwal,tanggalAkhir,namaBank)=>{\r\n           var config = {headers: {'Authorization': \"Bearer \" + cookie.get('token')}};\r\n           var newLink =`admin/reports/convenience_fee?bank_name=${namaBank}&start_date=${tanggalAwal}&end_date=${tanggalAkhir}`\r\n           axios.get(serverUrl+newLink,config)\r\n           .then((res)=>{\r\n               console.log(res.data.data)\r\n               this.setState({dataReport:res.data.data,errorMessage:\"\",errorMessageBank:'',munculinTable:true,loading:false})\r\n           })\r\n           .catch((err)=>{\r\n               console.log(err)\r\n           })\r\n     \r\n       }\r\n    renderReportJsx =()=>{\r\n        var jsx = this.state.dataReport.map((val,index)=>{\r\n            return(\r\n                <tr key={index}>\r\n                    <td align=\"center\">{index+1}</td>\r\n                    <td align=\"center\">{val.bank_name}</td>\r\n                    <td align=\"center\">{val.service_name}</td>\r\n                    <td align=\"center\">{val.product_name}</td>\r\n                    <td align=\"center\">{val.loan_id}</td>\r\n                    <td align=\"center\">{GlobalFunction.formatMoney(val.plafond)}</td>\r\n                    <td align=\"center\">{GlobalFunction.formatMoney(val.convenience_fee)}</td>\r\n                </tr>\r\n            )\r\n        })\r\n        return jsx\r\n    }\r\n    getTotalHarga = ()=>{\r\n        var harga=0\r\n        \r\n         for (var i=0;i<this.state.dataReport.length;i++){\r\n            harga += parseInt(this.state.dataReport[i].convenience_fee)\r\n         }\r\n       \r\n         return GlobalFunction.formatMoney(harga) \r\n    }\r\n    renderLoadingBtn = ()=>{\r\n        if(this.state.loading === true){\r\n            return <input disabled type=\"button\" className=\"btn btn-success\" value=\"Proses\" onClick={this.btnShowReport}/>\r\n         }else{\r\n            return <input type=\"button\" className=\"btn btn-success\" value=\"Proses\" onClick={this.btnShowReport}/>\r\n         }\r\n    }\r\n    btnReset = ()=>{\r\n        this.setState({errorMessage:\"\",errorMessageBank:'',munculinTable:false,namaBank:null})\r\n        document.getElementById(\"bankName\").value =\"0\"\r\n    }\r\n    render(){\r\n        if(cookie.get('token')){\r\n            return(\r\n                <div className=\"container mt-2\">\r\n                    <h2>Report</h2>\r\n                    <hr></hr>\r\n                    <div className=\"form-group row\">\r\n                            <div className=\"col-12\" style={{color:\"red\",fontSize:\"15px\",textAlign:'center'}}>\r\n                                    {this.state.errorMessage}{this.state.errorMessageBank} \r\n                            </div>      \r\n                     </div>\r\n                    <div className=\"form-group row\">\r\n                        <label className=\"col-sm-2 col-form-label\">Nama Report</label>\r\n                        <div className=\"col-sm-10\">\r\n                        <select ref=\"convfee\" onChange={this.handleChangeFee} id=\"report\" className=\"form-control\">\r\n                                <option value={0}>======== Pilih Report ========</option>\r\n                                <option value=\"1\">Convenience Fee Report</option>                                \r\n                        </select>\r\n                        </div>\r\n                    </div>\r\n                     {this.state.pilihReport?\r\n                        <form>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-2 col-form-label\">Nama Bank</label>\r\n                            <div className=\"col-sm-10\">\r\n                            <select ref=\"bankName\" id=\"bankName\" onChange={this.handleBank} className=\"form-control\">\r\n                                <option value={0}>======== Pilih Bank ========</option>\r\n                                {this.renderBankList()}\r\n                            </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <label className=\"col-sm-2 col-form-label\">Tanggal Pinjaman Disetujui</label>\r\n                            <div className=\"col-sm-10 form-inline pl-5\">\r\n                            <div className=\"col-sm-1 form-inline\"></div>\r\n                                <div className=\"col-sm-3 form-inline\">\r\n                                    <DatePickers\r\n                                        label = 'Dari Tanggal'\r\n                                        onChange ={this.handleStartChange}\r\n                                        value={this.state.tanggalAwal}\r\n                                        error={this.state.errorMessage.trim().length !== 0}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"form-inline mr-3 ml-3\"><i className=\"fas fa-long-arrow-alt-right\"></i></div>\r\n                                <div className=\"col-sm-3 form-inline\">\r\n                                    <DatePickers\r\n                                        label = 'Sampai Tanggal'\r\n                                        onChange ={this.handleEndChange}\r\n                                        value={this.state.tanggalAwal}\r\n                                        error={this.state.errorMessage.trim().length !== 0}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                    \r\n                        </div>\r\n                       {this.renderLoadingBtn()}\r\n                        <input type=\"button\" className=\"btn btn-secondary ml-2\" value=\"Reset\" onClick={this.btnReset}/>\r\n                    </form>\r\n                    :null}\r\n\r\n                    {this.state.munculinTable ?\r\n                      <div>\r\n                      <hr/>\r\n                             <table className=\"table table-hover\">\r\n                             <thead className=\"table-warning\">\r\n                                     <tr >\r\n                                         <th className=\"text-center\" scope=\"col\">#</th>\r\n                                         <th className=\"text-center\" scope=\"col\">Nama Bank</th>\r\n                                         <th className=\"text-center\" scope=\"col\">Layanan</th>\r\n                                         <th className=\"text-center\" scope=\"col\">Produk</th>\r\n                                         <th className=\"text-center\" scope=\"col\">Loan Id</th>  \r\n                                         <th className=\"text-center\" scope=\"col\">Plafond</th>  \r\n                                         <th className=\"text-center\" scope=\"col\">Convinience Fee Amount</th> \r\n                                     </tr>     \r\n                                 </thead>\r\n                                 <tbody>\r\n\r\n                                    {this.state.dataReport.length===0?\r\n                                    <tr align=\"center\">\r\n                                        <th colSpan={7}>\r\n                                        <p style={{marginRight:\"50px\"}}>DATA KOSONG</p>\r\n                                        </th>\r\n                                    </tr>\r\n                                    :this.renderReportJsx()} \r\n                                    <tr align=\"right\">\r\n                                        <th colSpan={7}>\r\n                                        <p style={{marginRight:\"50px\"}}>{this.getTotalHarga()}</p>\r\n                                        </th>\r\n                                    </tr>\r\n                                 </tbody>\r\n                             </table>\r\n                 </div>    \r\n                    :null}\r\n                </div>\r\n            )\r\n        }\r\n        if(!cookie.get('token')){\r\n            return (\r\n                <Redirect to='/login' />\r\n            )    \r\n        }\r\n       \r\n    }\r\n}\r\n\r\n\r\nexport function mapDispatchToProps(dispatch) {\r\n    return {\r\n    //   getSourceTransaction: () => {\r\n    //     dispatch(sourceTransactionRequest());\r\n    //   },\r\n    //   getApplication: () => {\r\n    //     dispatch(applicationRequest());\r\n    //   },\r\n    //   getSecurityAdministrator: (application) => {\r\n    //     dispatch(securityAdministratorRequest(application));\r\n    //   },\r\n    //   getToken: (application) => {\r\n    //     dispatch(rpsTokenRequest(application));\r\n    //   },\r\n    //   getTokenUpdate: (application) => {\r\n    //     dispatch(rpsTokenUpdateRequest(application));\r\n    //   },\r\n    //   getAction: (application) => {\r\n    //     dispatch(rpsActionRequest(application));\r\n    //   },\r\n    //   getProfileUserId: (application) => {\r\n    //     dispatch(profileUserIdRequest(application));\r\n    //   },\r\n    //   getCurrency: () => {\r\n    //     dispatch(currencyRequest());\r\n    //   },\r\n    //   getKanwil: () => {\r\n    //     dispatch(kanwilRequest());\r\n    //   },\r\n    //   getKCU: (kanwil) => {\r\n    //     dispatch(kcuRequest(kanwil));\r\n    //   },\r\n    //   getBranch: (kodeKcu) => {\r\n    //     dispatch(branchRequest(kodeKcu));\r\n    //   },\r\n    //   handleRedirect: (route) => {\r\n    //     dispatch(push(route));\r\n    //   },\r\n    //   handleCreaterpsTransaction: (rpsTransaction) => {\r\n    //     dispatch(rpsTransactionCreate(rpsTransaction));\r\n    //   },\r\n    //   handleUpdaterpsTransaction: (rpsTransaction) => {\r\n    //     dispatch(rpsTransactionUpdate(rpsTransaction));\r\n    //   },\r\n    //   handleGetrpsUserIdDetail: (rpsUserId) => {\r\n    //     dispatch(rpsUserIdDetail(rpsUserId));\r\n    //   },\r\n    //   handleGetDetailProfileUser: (rpsUserId) => {\r\n    //     dispatch(rpsProfileUserDetail(rpsUserId));\r\n    //   },\r\n    //   handleDelete: (rpsUserId) => {\r\n    //     dispatch(rpsUserIdDelete(rpsUserId));\r\n    //   },\r\n    //   handleSetMessage: (message) => {\r\n    //     dispatch(setAlert(message));\r\n    //   },\r\n    };\r\n  }\r\n  \r\n  export const mapStateToProps = createStructuredSelector({\r\n    // user: getUserState(),\r\n    // menu: getMenu(),\r\n    // rpsUserIdDetailNew: getrpsUserIdDetail(),\r\n    // profileUserDetail: getrpsProfileUserDetail(),\r\n    // listSourceTransaction: getListSourceTransaction(),\r\n    // listAction: getListAction(),\r\n    // listToken: getListToken(),\r\n    // listEmployee: getListEmployee(),\r\n    // listBranch: getListBranch(),\r\n    // listApplication: getListApplication(),\r\n    // listSecurityAdministrator: getListSecurityAdministrator(),\r\n    // listCurrency: getListCurrency(),\r\n    // listprofileUserId: getListProfileUserId(),\r\n    // listKanwil: getListKanwil(),\r\n    // listKCU: getListKCU(),\r\n    // message: getMessageValue(),\r\n    // redirect: getRedirectValue(),\r\n    // fetching: getFetchStatus(),\r\n  });\r\n\r\nconst withConnect = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n);\r\n\r\nconst withStyle = withStyles(styles);\r\n// const withReducer = injectReducer({ key: 'rpsTransaction', reducer });\r\n// const withSaga = injectSaga({ key: 'rpsTransaction', saga });\r\n\r\nexport default compose(\r\n    // withReducer,\r\n    withConnect,\r\n    // withSaga,\r\n    withStyle,\r\n    withRouter\r\n  )(Report);\r\n// export default RoleAdd;\r\n\r\n"]},"metadata":{},"sourceType":"module"}